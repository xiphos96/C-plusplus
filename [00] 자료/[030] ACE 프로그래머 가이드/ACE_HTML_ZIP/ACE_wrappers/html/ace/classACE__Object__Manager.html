<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ACE_Object_Manager class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>ACE_Object_Manager  Class Reference</h1>Manager for <a class="el" href="classACE.html">ACE</a> library services and singleton cleanup. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;Object_Manager.h&gt;</code>
<p>
Inheritance diagram for ACE_Object_Manager:<p><center><img src="classACE__Object__Manager__inherit__graph.gif" border="0" usemap="#ACE__Object__Manager__inherit__map" alt="Inheritance graph"></center>
<map name="ACE__Object__Manager__inherit__map">
<area href="classACE__Object__Manager__Base.html" shape="rect" coords="14,15,193,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for ACE_Object_Manager:<p><center><img src="classACE__Object__Manager__coll__graph.gif" border="0" usemap="#ACE__Object__Manager__coll__map" alt="Collaboration graph"></center>
<map name="ACE__Object__Manager__coll__map">
<area href="classACE__Object__Manager__Base.html" shape="rect" coords="50,47,229,66" alt="">
<area href="classACE__OS__Exit__Info.html" shape="rect" coords="78,105,201,123" alt="">
<area href="classACE__Sig__Adapter.html" shape="rect" coords="79,173,199,191" alt="">
<area href="classACE__Object__Manager__Preallocations.html" shape="rect" coords="25,241,254,259" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classACE__Object__Manager-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#s5">Preallocated_Object</a> { <a class="el" href="classACE__Object__Manager.html#s5s0">ACE_FILECACHE_LOCK</a>, 
<a class="el" href="classACE__Object__Manager.html#s5s1">ACE_STATIC_OBJECT_LOCK</a>, 
<a class="el" href="classACE__Object__Manager.html#s5s2">ACE_PREALLOCATED_OBJECTS</a>
 }</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Unique identifiers for preallocated objects. Please see <a class="el" href="Managed__Object_8h.html">ace/Managed_Object.h</a> for information on accessing preallocated objects.</em> <a href="#s5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#s6">Preallocated_Array</a> { <a class="el" href="classACE__Object__Manager.html#s6s3">ACE_EMPTY_PREALLOCATED_ARRAY</a>, 
<a class="el" href="classACE__Object__Manager.html#s6s4">ACE_PREALLOCATED_ARRAYS</a>
 }</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Unique identifiers for preallocated arrays. Please see <a class="el" href="Managed__Object_8h.html">ace/Managed_Object.h</a> for information on accessing preallocated arrays.</em> <a href="#s6">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#a0">init</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#a1">fini</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#a2">ACE_Object_Manager</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#a3">~ACE_Object_Manager</a> (void)</td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#d0">starting_up</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#d1">shutting_down</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#d2">at_exit</a> (<a class="el" href="classACE__Cleanup.html">ACE_Cleanup</a> *object, void *param=0)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#d3">at_exit</a> (void *object, <a class="el" href="OS_8h.html#a374">ACE_CLEANUP_FUNC</a> cleanup_hook, void *param)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classACE__Sig__Set.html">ACE_Sig_Set</a> &amp;&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#d4">default_mask</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>ACE_Object_Manager *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#d5">instance</a> (void)</td></tr>
<tr><td colspan=2><br><h2>Static Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>void *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#p0">preallocated_object</a> [ACE_PREALLOCATED_OBJECTS] = { 0 }</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Table of preallocated objects.</em> <a href="#p0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#p1">preallocated_array</a> [ACE_PREALLOCATED_ARRAYS] = { 0 }</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Table of preallocated arrays.</em> <a href="#p1">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#c0">at_exit_i</a> (void *object, <a class="el" href="OS_8h.html#a374">ACE_CLEANUP_FUNC</a> cleanup_hook, void *param)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Register an object or array for deletion at program termination. See description of static version above for return values.</em> <a href="#c0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#c1">ACE_Object_Manager</a> (const ACE_Object_Manager &amp;)</td></tr>
<tr><td nowrap align=right valign=top>ACE_Object_Manager &amp;&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#c2">operator=</a> (const ACE_Object_Manager &amp;)</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classACE__OS__Exit__Info.html">ACE_OS_Exit_Info</a>&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#o0">exit_info_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>For at_exit support.</em> <a href="#o0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classACE__Object__Manager__Preallocations.html">ACE_Object_Manager_Preallocations</a> *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#o1">preallocations_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Preallocated objects collection.</em> <a href="#o1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classACE__Sig__Adapter.html">ACE_Sig_Adapter</a> *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#o2">ace_service_config_sig_handler_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em><a class="el" href="classACE__Service__Config.html">ACE_Service_Config</a> signal handler.</em> <a href="#o2">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>ACE_Object_Manager *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#r0">instance_</a> = 0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Singleton pointer.</em> <a href="#r0">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Friends</h2></td></tr>
<tr><td nowrap align=right valign=top>class&nbsp;</td><td valign=bottom><a class="el" href="classACE__Object__Manager.html#l0">ACE_Object_Manager_Manager</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Manager for <a class="el" href="classACE.html">ACE</a> library services and singleton cleanup.
<p>

<p>
 The &lt;ACE_Object_Manager&gt; manages cleanup of objects, typically singletons, at program termination. In addition to managing the cleanup of the <a class="el" href="classACE.html">ACE</a> library, it provides an interface for application to register objects to be cleaned up. This class also shuts down <a class="el" href="classACE.html">ACE</a> library services, so that they can reclaim their storage, at program termination. It works by creating a static instance whose destructor gets called along with those of all other static objects. Hooks are provided for application code to register objects and arrays for cleanup, e.g., destruction. The order of such cleanup calls is in the reverse order of registration, i.e., that last object/array to register gets cleaned up first. The &lt;ACE_Object_Manager&gt; API includes &lt;<a class="el" href="classACE__Managed__Object.html">ACE_Managed_Object</a>&gt;. That class is contained in a separate file because it is a template class, and some compilers require that template and non-template class definitions appear in separate files. Please see <a class="el" href="Managed__Object_8h.html">ace/Managed_Object.h</a> for a description of that part of the API. In summary, &lt;<a class="el" href="classACE__Managed__Object.html">ACE_Managed_Object</a>&gt; provides two adapters, the &lt;<a class="el" href="classACE__Cleanup__Adapter.html">ACE_Cleanup_Adapter</a>&gt; and &lt;<a class="el" href="classACE__Managed__Object.html">ACE_Managed_Object</a>&gt; template classes for adapting objects of any type to be easily managed by the &lt;ACE_Object_Manager&gt;. There are several mechanisms for adapting objects and arrays for cleanup at program termination, in roughly increasing order of ease-of-use: 1) Derive the object's class from &lt;<a class="el" href="classACE__Cleanup.html">ACE_Cleanup</a>&gt;. 2) Allow the &lt;ACE_Object_Manager&gt; to both dynamically allocate and deallocate the object. 3) Provide an &lt;ACE_CLEANUP_FUNC&gt; cleanup hook for the object or array. 4) Allow the &lt;ACE_Object_Manager&gt; to both preallocate the object or array, either statically in global data or dynamically on the heap, when its singleton instance is construction.
<p>
There are also several mechanisms for registering objects and arrays for cleanup. In decreasing order of flexibility and complexity (with the exception of the last mechanism):
<p>
1) <a class="el" href="classACE__Object__Manager.html#d2">ACE_Object_Manager::at_exit</a> (void *object, ACE_CLEANUP_FUNC cleanup_hook, void *param); can be used to register any object or array for any cleanup activity at program termination. 2) <a class="el" href="classACE__Object__Manager.html#d2">ACE_Object_Manager::at_exit</a> (<a class="el" href="classACE__Cleanup.html">ACE_Cleanup</a> *object, void *param = 0); can be used to register an &lt;<a class="el" href="classACE__Cleanup.html">ACE_Cleanup</a>&gt; object for any cleanup activity at program termination. The final mechanism is not general purpose, but can only be used to allocate objects and arrays at program startup: 3) <a class="el" href="classACE__Managed__Object.html#d0">ACE_Managed_Object::get_preallocated_object</a> (<a class="el" href="classACE__Object__Manager.html#s5">ACE_Object_Manager::Preallocated_Object</a> id); and <a class="el" href="classACE__Managed__Object.html#d1">ACE_Managed_Object::get_preallocated_array</a> (<a class="el" href="classACE__Object__Manager.html#s6">ACE_Object_Manager::Preallocated_Array</a> id); can only be used to allocate objects at program startup, either in global data or on the heap (selected at compile time). These are intended to replace static locks, etc. Instead of creating a static &lt;ACE_Object_Manager&gt; instance, one can alternatively be created on the stack of the main program thread. It is created just after entry to main (int, char *[]), and before any existing code in that function is executed. To enable this alternative, add define ACE_HAS_NONSTATIC_OBJECT_MANAGER before including the platform specific config-* file in ace/config.h prior to building the <a class="el" href="classACE.html">ACE</a> library and your applications. This define is enabled in some config files that are supplied with <a class="el" href="classACE.html">ACE</a>.
<p>
To ensure a static object manager is used, undef ACE_HAS_NONSTATIC_OBJECT_MANAGER *after* including the platform specific config-* file. Note that the ACE_Object_Manager _must_ be created before any threads are spawned by the program. If ACE_HAS_NONSTATIC_OBJECT_MANAGER is not defined, the <a class="el" href="classACE.html">ACE</a> library creates a static, singleton &lt;ACE_Object_Manager&gt; instance. The instance is placed in global program data, and constructed via a static object constructor. If ACE_HAS_NONSTATIC_OBJECT_MANAGER is defined, the &lt;ACE_Object_Manager&gt; instance is created on the stack of the main program thread, as noted above.
<p>
With ACE_HAS_NONSTATIC_OBJECT_MANAGER enabled, the <a class="el" href="classACE.html">ACE</a> library has no static objects that require destruction. However, there are two drawbacks to using it: 1) main (int, char *[]) must be declared with arguments, even if they're not used. All of <a class="el" href="classACE.html">ACE</a> is converted to this, so just applications have to be concerned with it. 2) If there any static objects that depend on those that are cleaned up by the Object_Manager, they'll get cleaned up too late. The <a class="el" href="classACE.html">ACE</a> tests do not violate this requirement. However, applications may have trouble with it. NOTE on the use of &lt;exit&gt; -- &lt;exit&gt; does not destroy automatic objects. Therefore, if ACE_HAS_NONSTATIC_OBJECT_MANAGER is enabled, the &lt;ACE_Object_Manager&gt; instance will *not* be destroyed if &lt;exit&gt; is called! However, &lt;<a class="el" href="classACE__OS.html#z30_8">ACE_OS::exit</a>&gt; will properly destroy the ACE_Object_Manager. It is highly recommended that &lt;<a class="el" href="classACE__OS.html#z30_8">ACE_OS::exit</a>&gt; be used instead of &lt;exit&gt;.
<p>
However, &lt;exit&gt; and &lt;<a class="el" href="classACE__OS.html#z30_8">ACE_OS::exit</a>&gt; are tricky to use properly, especially in multithread programs. It is much safer to throw an exception (or simulate that effect) that will be caught by &lt;main&gt; instead of calling exit. Then, &lt;main&gt; can perform any necessary application-specific cleanup and return the status value. In addition, it's usually best to avoid calling &lt;exit&gt; and &lt;<a class="el" href="classACE__OS.html#z30_8">ACE_OS::exit</a>&gt; from threads other than the main thread. Thanks to Jeff Greif &lt;<a href="mailto:jmg@trivida.com">jmg@trivida.com</a>&gt; for pointing out that &lt;exit&gt; doesn't destroy automatic objects, and for developing the recommendations in this paragraph.
<p>
Instead of creating a static &lt;ACE_Object_Manager&gt;, or letting <a class="el" href="classACE.html">ACE</a> create it on the stack of &lt;main&gt; for you, another alternative is to define ACE_DOESNT_INSTANTIATE_NONSTATIC_OBJECT_MANAGER. With that define, the application must create the ACE_Object_Manager. The recommended way is to call &lt;<a class="el" href="classACE__Init__ACE.html#d0">ACE::init</a>&gt; at the start of the program, and call &lt;<a class="el" href="classACE__Init__ACE.html#d1">ACE::fini</a>&gt; at the end. Alternatively, the application could explicity construct an &lt;ACE_Object_Manager&gt;. 
<p>
<hr><h2>Member Enumeration Documentation</h2>
<a name="s6" doxytag="ACE_Object_Manager::Preallocated_Array"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum ACE_Object_Manager::Preallocated_Array
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unique identifiers for preallocated arrays. Please see <a class="el" href="Managed__Object_8h.html">ace/Managed_Object.h</a> for information on accessing preallocated arrays.
<p>
<dl compact><dt><b>
Enumeration values:</b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="s6s3" doxytag="ACE_EMPTY_PREALLOCATED_ARRAY"></a><em>ACE_EMPTY_PREALLOCATED_ARRAY</em></em>&nbsp;</td><td>
There currently are no preallocated arrays in the <a class="el" href="classACE.html">ACE</a> library. If the application doesn't have any, make sure the the preallocated_array size is at least one by declaring this dummy . . .</td></tr>
<tr><td valign=top><em><a name="s6s4" doxytag="ACE_PREALLOCATED_ARRAYS"></a><em>ACE_PREALLOCATED_ARRAYS</em></em>&nbsp;</td><td>
Hook for preallocated arrays provided by application.</td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<a name="s5" doxytag="ACE_Object_Manager::Preallocated_Object"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum ACE_Object_Manager::Preallocated_Object
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unique identifiers for preallocated objects. Please see <a class="el" href="Managed__Object_8h.html">ace/Managed_Object.h</a> for information on accessing preallocated objects.
<p>
<dl compact><dt><b>
Enumeration values:</b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="s5s0" doxytag="ACE_FILECACHE_LOCK"></a><em>ACE_FILECACHE_LOCK</em></em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a name="s5s1" doxytag="ACE_STATIC_OBJECT_LOCK"></a><em>ACE_STATIC_OBJECT_LOCK</em></em>&nbsp;</td><td>
</td></tr>
<tr><td valign=top><em><a name="s5s2" doxytag="ACE_PREALLOCATED_OBJECTS"></a><em>ACE_PREALLOCATED_OBJECTS</em></em>&nbsp;</td><td>
</td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a2" doxytag="ACE_Object_Manager::ACE_Object_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Object_Manager::ACE_Object_Manager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a3" doxytag="ACE_Object_Manager::~ACE_Object_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Object_Manager::~ACE_Object_Manager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="c1" doxytag="ACE_Object_Manager::ACE_Object_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Object_Manager::ACE_Object_Manager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const ACE_Object_Manager &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="d3" doxytag="ACE_Object_Manager::at_exit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Object_Manager::at_exit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>object</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="OS_8h.html#a374">ACE_CLEANUP_FUNC</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cleanup_hook</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>param</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register an object (or array) for cleanup at process termination. "cleanup_hook" points to a (global, or static member) function that is called for the object or array when it to be destroyed. It may perform any necessary cleanup specific for that object or its class. "param" is passed as the second parameter to the "cleanup_hook" function; the first parameter is the object (or array) to be destroyed. "cleanup_hook", for example, may delete the object (or array). For OS's that do not have processes, this function is the same as &lt;at_thread_exit&gt;. Returns 0 on success. On failure, returns -1 and sets errno to: EAGAIN if shutting down, ENOMEM if insufficient virtual memory, or EEXIST if the object (or array) had already been registered.     </td>
  </tr>
</table>
<a name="d2" doxytag="ACE_Object_Manager::at_exit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Object_Manager::at_exit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classACE__Cleanup.html">ACE_Cleanup</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>object</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>param</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register an <a class="el" href="classACE__Cleanup.html">ACE_Cleanup</a> object for cleanup at process termination. The object is deleted via the &lt;ace_cleanup_destroyer&gt;. If you need more flexiblity, see the &lt;other at_exit&gt; method below. For OS's that do not have processes, cleanup takes place at the end of &lt;main&gt;. Returns 0 on success. On failure, returns -1 and sets errno to: EAGAIN if shutting down, ENOMEM if insufficient virtual memory, or EEXIST if the object (or array) had already been registered.     </td>
  </tr>
</table>
<a name="c0" doxytag="ACE_Object_Manager::at_exit_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Object_Manager::at_exit_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>object</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="OS_8h.html#a374">ACE_CLEANUP_FUNC</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cleanup_hook</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>param</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register an object or array for deletion at program termination. See description of static version above for return values.
<p>
    </td>
  </tr>
</table>
<a name="d4" doxytag="ACE_Object_Manager::default_mask"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE <a class="el" href="classACE__Sig__Set.html">ACE_Sig_Set</a> &amp; ACE_Object_Manager::default_mask </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>
Deprecated: </b><dd>
Accesses a default signal set used, for example, in <a class="el" href="classACE__Sig__Guard.html">ACE_Sig_Guard</a> methods. Deprecated: use <a class="el" href="classACE__Object__Manager.html#d4">ACE_Object_Manager::default_mask</a> () instead. </dl>    </td>
  </tr>
</table>
<a name="a1" doxytag="ACE_Object_Manager::fini"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Object_Manager::fini </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Explicitly destroy the singleton instance of the ACE_Object_Manager. Returns 0 on success, -1 on failure, and 1 if it had already been called. 
<p>
Reimplemented from <a class="el" href="classACE__Object__Manager__Base.html#a1">ACE_Object_Manager_Base</a>.    </td>
  </tr>
</table>
<a name="a0" doxytag="ACE_Object_Manager::init"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Object_Manager::init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Explicitly initialize (construct the singleton instance of) the ACE_Object_Manager. Returns 0 on success, -1 on failure, and 1 if it had already been called. 
<p>
Reimplemented from <a class="el" href="classACE__Object__Manager__Base.html#a0">ACE_Object_Manager_Base</a>.    </td>
  </tr>
</table>
<a name="d5" doxytag="ACE_Object_Manager::instance"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Object_Manager * ACE_Object_Manager::instance </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor to singleton instance. Because static member functions are provided in the interface, this should not be public. However, it is public so that <a class="el" href="classACE__Managed__Object.html">ACE_Managed_Object</a>&lt;TYPE&gt; can access it.     </td>
  </tr>
</table>
<a name="c2" doxytag="ACE_Object_Manager::operator="></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Object_Manager&amp; ACE_Object_Manager::operator= </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const ACE_Object_Manager &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="d1" doxytag="ACE_Object_Manager::shutting_down"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Object_Manager::shutting_down </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns 1 after the ACE_Object_Manager has been destroyed. This flag can be used to determine if the program is in the midst of destroying static objects. (Note that the program might destroy some static objects before this flag can return 1, if ACE_HAS_NONSTATIC_OBJECT_MANAGER is not defined.)     </td>
  </tr>
</table>
<a name="d0" doxytag="ACE_Object_Manager::starting_up"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Object_Manager::starting_up </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns 1 before the ACE_Object_Manager has been constructed. This flag can be used to determine if the program is constructing static objects. If no static object spawns any threads, the program will be single-threaded when this flag returns 1. (Note that the program still might construct some static objects when this flag returns 0, if ACE_HAS_NONSTATIC_OBJECT_MANAGER is not defined.)     </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a name="l0" doxytag="ACE_Object_Manager::ACE_Object_Manager_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> friend class ACE_Object_Manager_Manager<code> [friend]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o2" doxytag="ACE_Object_Manager::ace_service_config_sig_handler_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classACE__Sig__Adapter.html">ACE_Sig_Adapter</a>* ACE_Object_Manager::ace_service_config_sig_handler_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<a class="el" href="classACE__Service__Config.html">ACE_Service_Config</a> signal handler.
<p>
    </td>
  </tr>
</table>
<a name="o0" doxytag="ACE_Object_Manager::exit_info_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classACE__OS__Exit__Info.html">ACE_OS_Exit_Info</a> ACE_Object_Manager::exit_info_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For at_exit support.
<p>
    </td>
  </tr>
</table>
<a name="r0" doxytag="ACE_Object_Manager::instance_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Object_Manager * ACE_Object_Manager::instance_ = 0<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Singleton pointer.
<p>
    </td>
  </tr>
</table>
<a name="p1" doxytag="ACE_Object_Manager::preallocated_array"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void * ACE_Object_Manager::preallocated_array = { 0 }<code> [static]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Table of preallocated arrays.
<p>
    </td>
  </tr>
</table>
<a name="p0" doxytag="ACE_Object_Manager::preallocated_object"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void * ACE_Object_Manager::preallocated_object = { 0 }<code> [static]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Table of preallocated objects.
<p>
    </td>
  </tr>
</table>
<a name="o1" doxytag="ACE_Object_Manager::preallocations_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classACE__Object__Manager__Preallocations.html">ACE_Object_Manager_Preallocations</a>* ACE_Object_Manager::preallocations_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Preallocated objects collection.
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Object__Manager_8h.html">Object_Manager.h</a><li><a class="el" href="Object__Manager_8cpp.html">Object_Manager.cpp</a><li><a class="el" href="Object__Manager_8i.html">Object_Manager.i</a></ul>
<hr><address><small>Generated on Wed Jan 15 19:11:03 2003 for ACE by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
