<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ACE_Task_Base class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>ACE_Task_Base  Class Reference</h1>Direct base class for the <a class="el" href="classACE__Task.html">ACE_Task</a> template. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;Task.h&gt;</code>
<p>
Inheritance diagram for ACE_Task_Base:<p><center><img src="classACE__Task__Base__inherit__graph.gif" border="0" usemap="#ACE__Task__Base__inherit__map" alt="Inheritance graph"></center>
<map name="ACE__Task__Base__inherit__map">
<area href="classACE__Task.html" shape="rect" coords="467,271,558,289" alt="">
<area href="classACE__Task.html" shape="rect" coords="853,164,1069,183" alt="">
<area href="classACE__Task.html" shape="rect" coords="854,81,1067,100" alt="">
<area href="classACE__Task.html" shape="rect" coords="870,393,1051,412" alt="">
<area href="classACE__Task.html" shape="rect" coords="858,347,1063,365" alt="">
<area href="classACE__Thread__Timer__Queue__Adapter.html" shape="rect" coords="377,501,649,520" alt="">
<area href="classACE__Service__Object.html" shape="rect" coords="26,336,162,355" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for ACE_Task_Base:<p><center><img src="classACE__Task__Base__coll__graph.gif" border="0" usemap="#ACE__Task__Base__coll__map" alt="Collaboration graph"></center>
<map name="ACE__Task__Base__coll__map">
<area href="classACE__Service__Object.html" shape="rect" coords="31,7,167,25" alt="">
<area href="classACE__Thread__Manager.html" shape="rect" coords="26,93,173,112" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classACE__Task__Base-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a0">ACE_Task_Base</a> (<a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a> *=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Constructor.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a1">~ACE_Task_Base</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destructor.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a2">open</a> (void *args=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Hook called to open a Task. &lt;args&gt; can be used to pass arbitrary information into &lt;open&gt;.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a3">close</a> (u_long flags=0)</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a4">module_closed</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a5">put</a> (<a class="el" href="classACE__Message__Block.html">ACE_Message_Block</a> *, <a class="el" href="classACE__Time__Value.html">ACE_Time_Value</a> *=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>A hook method that can be used to pass a message to a task, where it can be processed immediately or queued for subsequent processing in the &lt;svc&gt; hook method.</em> <a href="#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a6">svc</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Run by a daemon thread to handle deferred processing.</em> <a href="#a6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a7">activate</a> (long flags=THR_NEW_LWP|THR_JOINABLE, int n_threads=1, int force_active=0, long priority=ACE_DEFAULT_THREAD_PRIORITY, int grp_id=-1, ACE_Task_Base *task=0, <a class="el" href="OS_8h.html#a349">ACE_hthread_t</a> thread_handles[]=0, void *stack[]=0, size_t stack_size[]=0, <a class="el" href="OS_8h.html#a347">ACE_thread_t</a> thread_ids[]=0)</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a8">wait</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a9">suspend</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Suspend a task.</em> <a href="#a9">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a10">resume</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Resume a suspended task.</em> <a href="#a10">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a11">grp_id</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the current group id.</em> <a href="#a11">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a12">grp_id</a> (int)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set the current group id.</em> <a href="#a12">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a> *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a13">thr_mgr</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the thread manager associated with this Task.</em> <a href="#a13">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a14">thr_mgr</a> (<a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a> *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set the thread manager associated with this Task.</em> <a href="#a14">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a15">is_reader</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>True if queue is a reader, else false.</em> <a href="#a15">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a16">is_writer</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>True if queue is a writer, else false.</em> <a href="#a16">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a17">thr_count</a> (void) const</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#a18">thr_count_dec</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Atomically decrement the thread count by 1. This should only be called by the &lt;<a class="el" href="classACE__Thread__Exit.html">ACE_Thread_Exit</a>&gt; class destructor.</em> <a href="#a18">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>ACE_THR_FUNC_RETURN&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#d0">svc_run</a> (void *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Routine that runs the service routine as a daemon thread.</em> <a href="#d0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#d1">cleanup</a> (void *object, void *params)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Cleanup hook that is called when a thread exits to gracefully shutdown an &lt;<a class="el" href="classACE__Task.html">ACE_Task</a>&gt;.</em> <a href="#d1">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#m0">thr_count_</a></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a> *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#m1">thr_mgr_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Multi-threading manager.</em> <a href="#m1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>u_long&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#m2">flags_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em><a class="el" href="classACE__Task.html">ACE_Task</a> flags.</em> <a href="#m2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#m3">grp_id_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This maintains the group id of the Task.</em> <a href="#m3">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>ACE_Task_Base &amp;&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#c0">operator=</a> (const ACE_Task_Base &amp;)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classACE__Task__Base.html#c1">ACE_Task_Base</a> (const ACE_Task_Base &amp;)</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Direct base class for the <a class="el" href="classACE__Task.html">ACE_Task</a> template.
<p>

<p>
 This class factors out the non-template code in order to reduce template bloat, as well as to make it possible for the &lt;<a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a>&gt; to store &lt;ACE_Task_Base&gt; *'s polymorphically. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="ACE_Task_Base::ACE_Task_Base"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Task_Base::ACE_Task_Base </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>thr_man</em> = 0          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor.
<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="ACE_Task_Base::~ACE_Task_Base"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Task_Base::~ACE_Task_Base </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>
    </td>
  </tr>
</table>
<a name="c1" doxytag="ACE_Task_Base::ACE_Task_Base"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Task_Base::ACE_Task_Base </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const ACE_Task_Base &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a7" doxytag="ACE_Task_Base::activate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Task_Base::activate </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>flags</em> = THR_NEW_LWP | THR_JOINABLE, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>n_threads</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>force_active</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>priority</em> = ACE_DEFAULT_THREAD_PRIORITY, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>grp_id</em> = -1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>ACE_Task_Base *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>task</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="OS_8h.html#a349">ACE_hthread_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>thread_handles</em>[] = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>stack</em>[] = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>stack_size</em>[] = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="OS_8h.html#a347">ACE_thread_t</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>thread_names</em>[] = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Turn the task into an active object, i.e., having &lt;n_threads&gt; of control, all running at the &lt;priority&gt; level (see below) with the same &lt;grp_id&gt;, all of which invoke &lt;Task::svc&gt;. Returns -1 if failure occurs, returns 1 if Task is already an active object and &lt;force_active&gt; is false (i.e., do *not* create a new thread in this case), and returns 0 if Task was not already an active object and a thread is created successfully or thread is an active object and &lt;force_active&gt; is true. Note that if &lt;force_active&gt; is true and there are already threads spawned in this &lt;Task&gt;, the &lt;grp_id&gt; parameter is ignored and the &lt;grp_id&gt; of any newly activated thread(s) will inherit the existing &lt;grp_id&gt; of the existing thread(s) in the &lt;Task&gt;.
<p>
The &lt;{flags}&gt; are a bitwise-OR of the following: = BEGIN&lt;INDENT&gt; THR_CANCEL_DISABLE, THR_CANCEL_ENABLE, THR_CANCEL_DEFERRED, THR_CANCEL_ASYNCHRONOUS, THR_BOUND, THR_NEW_LWP, THR_DETACHED, THR_SUSPENDED, THR_DAEMON, THR_JOINABLE, THR_SCHED_FIFO, THR_SCHED_RR, THR_SCHED_DEFAULT, THR_EXPLICIT_SCHED, THR_SCOPE_SYSTEM, THR_SCOPE_PROCESS = END&lt;INDENT&gt;
<p>
By default, or if &lt;{priority}&gt; is set to ACE_DEFAULT_THREAD_PRIORITY, an "appropriate" priority value for the given scheduling policy (specified in &lt;{flags}&gt;, e.g., &lt;THR_SCHED_DEFAULT&gt;) is used. This value is calculated dynamically, and is the median value between the minimum and maximum priority values for the given policy. If an explicit value is given, it is used. Note that actual priority values are EXTREMEMLY implementation-dependent, and are probably best avoided.
<p>
If &lt;thread_handles&gt; != 0 it is assumed to be an array of &lt;n&gt; thread_handles that will be assigned the values of the thread handles being spawned. Returns -1 on failure (&lt;errno&gt; will explain...), otherwise returns the group id of the threads.
<p>
Assigning &lt;task&gt; allows you to associate the newly spawned threads with an instance of ACE_Task_Base. If &lt;task&gt; == 0, then the new threads are associated automatically with &lt;this&gt; ACE_Task_Base. Setting the &lt;task&gt; argument to value other than &lt;this&gt; makes the thread manipulating methods, such as <a class="el" href="classACE__Task__Base.html#a8">wait</a>(), <a class="el" href="classACE__Task__Base.html#a9">suspend</a>(), <a class="el" href="classACE__Task__Base.html#a10">resume</a>(), useless. Threads spawned with user specified &lt;task&gt; value must therefore be manipulated thru <a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a> directly.
<p>
If &lt;stack&gt; != 0 it is assumed to be an array of &lt;n&gt; pointers to the base of the stacks to use for the threads being spawned. Likewise, if &lt;stack_size&gt; != 0 it is assumed to be an array of &lt;n&gt; values indicating how big each of the corresponding &lt;stack&gt;s are. 
<p>
Reimplemented in <a class="el" href="classACE__Thread__Timer__Queue__Adapter.html#a11">ACE_Thread_Timer_Queue_Adapter</a>.    </td>
  </tr>
</table>
<a name="d1" doxytag="ACE_Task_Base::cleanup"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ACE_Task_Base::cleanup </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>object</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>params</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cleanup hook that is called when a thread exits to gracefully shutdown an &lt;<a class="el" href="classACE__Task.html">ACE_Task</a>&gt;.
<p>
    </td>
  </tr>
</table>
<a name="a3" doxytag="ACE_Task_Base::close"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Task_Base::close </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>flags</em> = 0          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hook called from &lt;<a class="el" href="classACE__Thread__Exit.html">ACE_Thread_Exit</a>&gt; when during thread exit and from the default implementation of &lt;module_closed&gt;. In general, this method shouldn't be called directly by an application, particularly if the &lt;Task&gt; is running as an Active Object. Instead, a special message should be passed into the &lt;Task&gt; via the &lt;put&gt; method defined below, and the &lt;svc&gt; method should interpret this as a flag to shut down the &lt;Task&gt;. 
<p>
Reimplemented in <a class="el" href="classACE__Stream__Head.html#a3">ACE_Stream_Head</a>, <a class="el" href="classACE__Stream__Tail.html#a3">ACE_Stream_Tail</a>, <a class="el" href="classACE__Thru__Task.html#a3">ACE_Thru_Task</a>, <a class="el" href="classACE__Svc__Handler.html#a3">ACE_Svc_Handler</a>, and <a class="el" href="classACE__Svc__Handler.html#a3">ACE_Svc_Handler&lt; ACE_PEER_STREAM_2, ACE_SYNCH_USE &gt;</a>.    </td>
  </tr>
</table>
<a name="a12" doxytag="ACE_Task_Base::grp_id"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE void ACE_Task_Base::grp_id </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>id</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the current group id.
<p>
    </td>
  </tr>
</table>
<a name="a11" doxytag="ACE_Task_Base::grp_id"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Task_Base::grp_id </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the current group id.
<p>
    </td>
  </tr>
</table>
<a name="a15" doxytag="ACE_Task_Base::is_reader"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Task_Base::is_reader </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
True if queue is a reader, else false.
<p>
    </td>
  </tr>
</table>
<a name="a16" doxytag="ACE_Task_Base::is_writer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Task_Base::is_writer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
True if queue is a writer, else false.
<p>
    </td>
  </tr>
</table>
<a name="a4" doxytag="ACE_Task_Base::module_closed"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Task_Base::module_closed </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hook called during &lt;<a class="el" href="classACE__Module.html#a4">ACE_Module::close</a>&gt;. The default implementation calls forwards the call to close(1). Please notice the changed value of the default argument of &lt;close&gt;. This allows tasks to differ between the call has been originated from &lt;<a class="el" href="classACE__Thread__Exit.html">ACE_Thread_Exit</a>&gt; or from &lt;module_closed&gt;. Be aware that close(0) will be also called when a thread associated with the <a class="el" href="classACE__Task.html">ACE_Task</a> instance exits.     </td>
  </tr>
</table>
<a name="a2" doxytag="ACE_Task_Base::open"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Task_Base::open </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>a</em> = 0          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hook called to open a Task. &lt;args&gt; can be used to pass arbitrary information into &lt;open&gt;.
<p>

<p>
Reimplemented in <a class="el" href="classACE__NT__Service.html#a3">ACE_NT_Service</a>, <a class="el" href="classACE__Stream__Head.html#a2">ACE_Stream_Head</a>, <a class="el" href="classACE__Stream__Tail.html#a2">ACE_Stream_Tail</a>, <a class="el" href="classACE__Thru__Task.html#a2">ACE_Thru_Task</a>, <a class="el" href="classACE__Svc__Handler.html#a2">ACE_Svc_Handler</a>, and <a class="el" href="classACE__Svc__Handler.html#a2">ACE_Svc_Handler&lt; ACE_PEER_STREAM_2, ACE_SYNCH_USE &gt;</a>.    </td>
  </tr>
</table>
<a name="c0" doxytag="ACE_Task_Base::operator="></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Task_Base&amp; ACE_Task_Base::operator= </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const ACE_Task_Base &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="a5" doxytag="ACE_Task_Base::put"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Task_Base::put </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classACE__Message__Block.html">ACE_Message_Block</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>msg</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classACE__Time__Value.html">ACE_Time_Value</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tv</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A hook method that can be used to pass a message to a task, where it can be processed immediately or queued for subsequent processing in the &lt;svc&gt; hook method.
<p>

<p>
Reimplemented in <a class="el" href="classACE__Stream__Head.html#a4">ACE_Stream_Head</a>, <a class="el" href="classACE__Stream__Tail.html#a4">ACE_Stream_Tail</a>, <a class="el" href="classACE__Thru__Task.html#a4">ACE_Thru_Task</a>, and <a class="el" href="classACE__Buffered__Svc__Handler.html#a2">ACE_Buffered_Svc_Handler</a>.    </td>
  </tr>
</table>
<a name="a10" doxytag="ACE_Task_Base::resume"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Task_Base::resume </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Resume a suspended task.
<p>

<p>
Reimplemented from <a class="el" href="classACE__Service__Object.html#a3">ACE_Service_Object</a>.    </td>
  </tr>
</table>
<a name="a9" doxytag="ACE_Task_Base::suspend"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Task_Base::suspend </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Suspend a task.
<p>

<p>
Reimplemented from <a class="el" href="classACE__Service__Object.html#a2">ACE_Service_Object</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="ACE_Task_Base::svc"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE int ACE_Task_Base::svc </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Run by a daemon thread to handle deferred processing.
<p>

<p>
Reimplemented in <a class="el" href="classACE__Asynch__Pseudo__Task.html#a4">ACE_Asynch_Pseudo_Task</a>, <a class="el" href="classACE__NT__Service.html#a5">ACE_NT_Service</a>, <a class="el" href="classACE__Proactor__Timer__Handler.html#b0">ACE_Proactor_Timer_Handler</a>, <a class="el" href="classACE__Stream__Head.html#a5">ACE_Stream_Head</a>, <a class="el" href="classACE__Stream__Tail.html#a5">ACE_Stream_Tail</a>, <a class="el" href="classACE__Thru__Task.html#a5">ACE_Thru_Task</a>, and <a class="el" href="classACE__Thread__Timer__Queue__Adapter.html#a4">ACE_Thread_Timer_Queue_Adapter</a>.    </td>
  </tr>
</table>
<a name="d0" doxytag="ACE_Task_Base::svc_run"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_THR_FUNC_RETURN ACE_Task_Base::svc_run </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>args</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Routine that runs the service routine as a daemon thread.
<p>
    </td>
  </tr>
</table>
<a name="a17" doxytag="ACE_Task_Base::thr_count"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE size_t ACE_Task_Base::thr_count </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the number of threads currently running within a task. If we're a passive object this value is 0, else it's greater than 0.     </td>
  </tr>
</table>
<a name="a18" doxytag="ACE_Task_Base::thr_count_dec"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE void ACE_Task_Base::thr_count_dec </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Atomically decrement the thread count by 1. This should only be called by the &lt;<a class="el" href="classACE__Thread__Exit.html">ACE_Thread_Exit</a>&gt; class destructor.
<p>
    </td>
  </tr>
</table>
<a name="a14" doxytag="ACE_Task_Base::thr_mgr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE void ACE_Task_Base::thr_mgr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>thr_mgr</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the thread manager associated with this Task.
<p>
    </td>
  </tr>
</table>
<a name="a13" doxytag="ACE_Task_Base::thr_mgr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_INLINE <a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a> * ACE_Task_Base::thr_mgr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the thread manager associated with this Task.
<p>
    </td>
  </tr>
</table>
<a name="a8" doxytag="ACE_Task_Base::wait"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Task_Base::wait </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Block until there are no more threads running in this task. This method will not wait for either detached or daemon threads; the threads must have been spawned with the <code>THR_JOINABLE</code> flag. Upon successful completion, the threads have been joined, so further attempts to join with any of the waited-for threads will fail.<dl compact><dt><b>
Return values: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>0</em>&nbsp;</td><td>
Success. </td></tr>
<tr><td valign=top><em>-1</em>&nbsp;</td><td>
Failure (consult errno for further information). </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="m2" doxytag="ACE_Task_Base::flags_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> u_long ACE_Task_Base::flags_
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<a class="el" href="classACE__Task.html">ACE_Task</a> flags.
<p>
    </td>
  </tr>
</table>
<a name="m3" doxytag="ACE_Task_Base::grp_id_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int ACE_Task_Base::grp_id_
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This maintains the group id of the Task.
<p>
    </td>
  </tr>
</table>
<a name="m0" doxytag="ACE_Task_Base::thr_count_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> size_t ACE_Task_Base::thr_count_
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Count of the number of threads running within the task. If this value is greater than 0 then we're an active object and the value of &lt;thr_count_&gt; is the number of active threads at this instant. If the value == 0, then we're a passive object.     </td>
  </tr>
</table>
<a name="m1" doxytag="ACE_Task_Base::thr_mgr_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classACE__Thread__Manager.html">ACE_Thread_Manager</a>* ACE_Task_Base::thr_mgr_
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Multi-threading manager.
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Task_8h.html">Task.h</a><li><a class="el" href="Task_8cpp.html">Task.cpp</a><li><a class="el" href="Task_8i.html">Task.i</a></ul>
<hr><address><small>Generated on Wed Jan 15 19:14:48 2003 for ACE by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
