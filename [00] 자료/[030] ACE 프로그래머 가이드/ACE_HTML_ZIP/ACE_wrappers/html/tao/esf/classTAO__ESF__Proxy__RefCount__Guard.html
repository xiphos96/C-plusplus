<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title> TemplateTAO_ESF_Proxy_RefCount_Guard class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>TAO_ESF_Proxy_RefCount_Guard  Class Template Reference</h1>Reference count based guard. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;ESF_Proxy_RefCount_Guard.h&gt;</code>
<p>
Collaboration diagram for TAO_ESF_Proxy_RefCount_Guard:<p><center><img src="classTAO__ESF__Proxy__RefCount__Guard__coll__graph.gif" border="0" usemap="#TAO__ESF__Proxy__RefCount__Guard_3_01EVENT__CHANNEL_00_01PROXY_01_4__coll__map" alt="Collaboration graph"></center>
<map name="TAO__ESF__Proxy__RefCount__Guard_3_01EVENT__CHANNEL_00_01PROXY_01_4__coll__map">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classTAO__ESF__Proxy__RefCount__Guard-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__ESF__Proxy__RefCount__Guard.html#a0">TAO_ESF_Proxy_RefCount_Guard</a> (<a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a11">CORBA::ULong</a> &amp;refcount, EVENT_CHANNEL *ec, PROXY *proxy)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Constructor.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__ESF__Proxy__RefCount__Guard.html#a1">~TAO_ESF_Proxy_RefCount_Guard</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destructor.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a11">CORBA::ULong</a> &amp;&nbsp;</td><td valign=bottom><a class="el" href="classTAO__ESF__Proxy__RefCount__Guard.html#n0">refcount_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The reference count, if it gets to zero then the object must be destroyed.</em> <a href="#n0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>EVENT_CHANNEL *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__ESF__Proxy__RefCount__Guard.html#n1">event_channel_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The event channel used to destroy the proxy.</em> <a href="#n1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PROXY *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__ESF__Proxy__RefCount__Guard.html#n2">proxy_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The proxy whose lifetime is controlled by the reference count.</em> <a href="#n2">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class EVENT_CHANNEL, class PROXY&gt;<br>
 class TAO_ESF_Proxy_RefCount_Guard&lt; EVENT_CHANNEL, PROXY &gt;</h3>

Reference count based guard.
<p>

<p>
 A common idiom used on event services is to increment a reference count before starting a long running operation. The system can then execute the operation without any risk of having the underlying object destroyed. The advantage of using a reference count is that no mutex or lock needs to be held while the operation is beign executed. This class implements that common idiom, but it also adds hooks to handle scenarios where more than one operation is performed while holding the reference count.
<p>
@TODO: The type of lock could be parametric 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="TAO_ESF_Proxy_RefCount_Guard::TAO_ESF_Proxy_RefCount_Guard"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class EC, class P&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/OS_8i.html#a0">ACE_INLINE</a> TAO_ESF_Proxy_RefCount_Guard&lt; EC, P &gt;::TAO_ESF_Proxy_RefCount_Guard </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a11">CORBA::ULong</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>refcount</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>EC *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ec</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>P *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>proxy</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor.
<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="TAO_ESF_Proxy_RefCount_Guard::~TAO_ESF_Proxy_RefCount_Guard"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class EC, class P&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> TAO_ESF_Proxy_RefCount_Guard&lt; EC, P &gt;::~TAO_ESF_Proxy_RefCount_Guard </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="n1" doxytag="TAO_ESF_Proxy_RefCount_Guard::event_channel_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class EVENT_CHANNEL, class PROXY&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> EVENT_CHANNEL* TAO_ESF_Proxy_RefCount_Guard::event_channel_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The event channel used to destroy the proxy.
<p>
    </td>
  </tr>
</table>
<a name="n2" doxytag="TAO_ESF_Proxy_RefCount_Guard::proxy_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class EVENT_CHANNEL, class PROXY&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> PROXY* TAO_ESF_Proxy_RefCount_Guard::proxy_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The proxy whose lifetime is controlled by the reference count.
<p>
    </td>
  </tr>
</table>
<a name="n0" doxytag="TAO_ESF_Proxy_RefCount_Guard::refcount_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class EVENT_CHANNEL, class PROXY&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a11">CORBA::ULong</a>&amp; TAO_ESF_Proxy_RefCount_Guard::refcount_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The reference count, if it gets to zero then the object must be destroyed.
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ESF__Proxy__RefCount__Guard_8h.html">ESF_Proxy_RefCount_Guard.h</a><li><a class="el" href="ESF__Proxy__RefCount__Guard_8cpp.html">ESF_Proxy_RefCount_Guard.cpp</a><li><a class="el" href="ESF__Proxy__RefCount__Guard_8i.html">ESF_Proxy_RefCount_Guard.i</a></ul>
<hr><address><small>Generated on Wed Jan 15 23:21:16 2003 for TAO_ESF by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
