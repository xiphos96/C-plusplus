<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TAO_Naming_Server class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>TAO_Naming_Server  Class Reference</h1>Defines a wrapper class that holds the root Naming Context. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;Naming_Utils.h&gt;</code>
<p>
Collaboration diagram for TAO_Naming_Server:<p><center><img src="classTAO__Naming__Server__coll__graph.gif" border="0" usemap="#TAO__Naming__Server__coll__map" alt="Collaboration graph"></center>
<map name="TAO__Naming__Server__coll__map">
<area href="classTAO__Persistent__Context__Index.html" shape="rect" coords="25,14,214,32" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classTAO__Naming__Server-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#a0">TAO_Naming_Server</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Default constructor.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#a1">TAO_Naming_Server</a> (<a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a91">CORBA::ORB_ptr</a> orb, PortableServer::POA_ptr poa, size_t context_size=<a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/Default__Constants_8h.html#a47">ACE_DEFAULT_MAP_SIZE</a>, <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/classACE__Time__Value.html">ACE_Time_Value</a> *timeout=0, int resolve_for_existing_naming_service=1, const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *persistence_location=0, void *base_addr=TAO_NAMING_BASE_ADDR, int enable_multicast=1, int use_storable_context=0)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#a2">init</a> (<a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a91">CORBA::ORB_ptr</a> orb, PortableServer::POA_ptr poa, size_t context_size=<a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/Default__Constants_8h.html#a47">ACE_DEFAULT_MAP_SIZE</a>, <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/classACE__Time__Value.html">ACE_Time_Value</a> *timeout=0, int resolve_for_existing_naming_service=1, const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *persistence_location=0, void *base_addr=TAO_NAMING_BASE_ADDR, int enable_multicast=1, int use_storable_context=0)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#a3">init_with_orb</a> (int argc, <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *argv[], <a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a91">CORBA::ORB_ptr</a> orb)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialize the Naming Service with the command line arguments and the ORB.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#a4">fini</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destroy the child POA created in &lt;init_with_orb&gt;.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#a5">~TAO_Naming_Server</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destructor.</em> <a href="#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>char *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#a6">naming_service_ior</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the IOR of the naming service.</em> <a href="#a6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>CosNaming::NamingContext_ptr&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#a7">operator-&gt;</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns a &lt;NamingContext_ptr&gt; for the root Naming Context.</em> <a href="#a7">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#b0">init_new_naming</a> (<a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a91">CORBA::ORB_ptr</a> orb, PortableServer::POA_ptr root_poa, const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *persistence_location, void *base_addr, size_t context_size, int enable_multicast, int use_storable_context)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#b1">parse_args</a> (int argc, <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *argv[])</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>parses the arguments.</em> <a href="#b1">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>CosNaming::NamingContext_var&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n0">naming_context_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Root NamingContext_ptr.</em> <a href="#n0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>TAO_IOR_Multicast *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n1">ior_multicast_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The ior_multicast event handler.</em> <a href="#n1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a29">CORBA::String_var</a>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n2">naming_service_ior_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The IOR string of the root naming context.</em> <a href="#n2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTAO__Persistent__Context__Index.html">TAO_Persistent_Context_Index</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n3">context_index_</a></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a92">CORBA::ORB_var</a>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n4">orb_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The ORB.</em> <a href="#n4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PortableServer::POA_var&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n5">root_poa_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The Root POA.</em> <a href="#n5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PortableServer::POA_var&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n6">ns_poa_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The Naming Service POA.</em> <a href="#n6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>FILE *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n7">ior_output_file_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>File to output the Naming Service IOR.</em> <a href="#n7">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n8">pid_file_name_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>File to output the process id.</em> <a href="#n8">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n9">context_size_</a></td></tr>
<tr><td nowrap align=right valign=top>const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n10">persistence_file_name_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Path to the file to be used to store/read in Naming Service persistent state.</em> <a href="#n10">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n11">base_address_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Address to be used for memory mapping Naming Service state file, identified by the &lt;persistence_file_name_&gt;.</em> <a href="#n11">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n12">time_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>After how long the server should stop listening to requests (in seconds).</em> <a href="#n12">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n13">multicast_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>If not zero multicast is enabled.</em> <a href="#n13">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Naming__Server.html#n14">use_storable_context_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>If not zero use flat file persistence.</em> <a href="#n14">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Defines a wrapper class that holds the root Naming Context.
<p>

<p>
 This class either finds an existing Naming Service (if the &lt;resolve_for_existing_naming_service&gt; flag is set) or creates one (if &lt;resolve_for_existing_naming_service&gt; flag isn't set or Naming Service was not found). This class also defines the operator-&gt; so that &lt;NamingContext&gt; functions like &lt;bind&gt;, &lt;unbind&gt; .. can be called directly on a &lt;TAO_Naming_Server&gt; object, and be forwareded to the root Naming Context. This class is intended to simplify programs that want to play the role of a Naming Service server. To simplify programs that want to play the role of Naming Service clients, use &lt;<a class="el" href="classTAO__Naming__Client.html">TAO_Naming_Client</a>&gt;. If a Naming Service is created locally, a TAO_IOR_Multicast event handler is created and installed on the ORB's reactor. This event handler allows other clients on the network to discover and use this Naming Service. Event handler listens on a multicast port for messages from clients looking for a Naming Service, and sends back the ior of the root Naming Context. For more information on how this bootstraping through a multicast process works, check out orbsvcs/orbsvcs/TAO_IOR_Multicast.*, implementation of &lt;resolve_initial_references&gt;, and orbsvcs/Naming/README. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="TAO_Naming_Server::TAO_Naming_Server"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Naming_Server::TAO_Naming_Server </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Default constructor.
<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="TAO_Naming_Server::TAO_Naming_Server"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Naming_Server::TAO_Naming_Server </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a91">CORBA::ORB_ptr</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>orb</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>PortableServer::POA_ptr&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>poa</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>context_size</em> = <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/Default__Constants_8h.html#a47">ACE_DEFAULT_MAP_SIZE</a>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/classACE__Time__Value.html">ACE_Time_Value</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>timeout</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>resolve_for_existing_naming_service</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>persistence_location</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>base_addr</em> = TAO_NAMING_BASE_ADDR, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>enable_multicast</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>use_storable_context</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. Attempts to find an existing Naming Service if &lt;resolve_for_existing_naming_service&gt; is set to true. If it is false, or no Naming Service was found during a &lt;timeout&gt; period, create the Naming Service in this process. If creating the Naming Service locally, make the root context of size &lt;context_size&gt;, register it under the &lt;poa&gt;, and make the Naming Service persistent if &lt;persistence_location&gt; is not 0. (&lt;persistence_location&gt; specifies name of the file to use for persistent storage, &lt;base_addr&gt; specifies the address used for memory mapping &lt;persistent_location&gt; file). If &lt;enable_multicast&gt; is not zero then the service will respond to multicast location queries.     </td>
  </tr>
</table>
<a name="a5" doxytag="TAO_Naming_Server::~TAO_Naming_Server"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Naming_Server::~TAO_Naming_Server </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a4" doxytag="TAO_Naming_Server::fini"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Naming_Server::fini </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroy the child POA created in &lt;init_with_orb&gt;.
<p>
    </td>
  </tr>
</table>
<a name="a2" doxytag="TAO_Naming_Server::init"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Naming_Server::init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a91">CORBA::ORB_ptr</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>orb</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>PortableServer::POA_ptr&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>poa</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>context_size</em> = <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/Default__Constants_8h.html#a47">ACE_DEFAULT_MAP_SIZE</a>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/classACE__Time__Value.html">ACE_Time_Value</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>timeout</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>resolve_for_existing_naming_service</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>persistence_location</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>base_addr</em> = TAO_NAMING_BASE_ADDR, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>enable_multicast</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>use_storable_context</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializer. Attempts to find an existing Naming Service if &lt;resolve_for_existing_naming_service&gt; is set to true. If it is false, or no Naming Service was found during a &lt;timeout&gt; period, create the Naming Service in this process. If creating the Naming Service locally, make the root context of size &lt;context_size&gt;, register it under the &lt;poa&gt;, and make the Naming Service persistent if &lt;persistence_location&gt; is not 0. (&lt;persistence_location&gt; specifies name of the file to use for persistent storage, &lt;base_addr&gt; specifies the address used for memory mapping &lt;persistent_location&gt; file). If &lt;enable_multicast&gt; is not zero then the service will respond to multicast location queries.     </td>
  </tr>
</table>
<a name="b0" doxytag="TAO_Naming_Server::init_new_naming"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Naming_Server::init_new_naming </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a91">CORBA::ORB_ptr</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>orb</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>PortableServer::POA_ptr&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>poa</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>persistence_location</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>base_addr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>context_size</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>enable_multicast</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>use_storable_context</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Helper method: create Naming Service locally. Make the root context of size &lt;context_size&gt;, register it under the &lt;root_poa&gt;, and make the Naming Service persistent if &lt;persistence_location&gt; is not 0. (&lt;persistence_location&gt; specifies name of the file to use for persistent storage). If &lt;enable_multicast&gt; is not zero then the service will respond to multicast location queries.     </td>
  </tr>
</table>
<a name="a3" doxytag="TAO_Naming_Server::init_with_orb"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Naming_Server::init_with_orb </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argv</em>[], </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a91">CORBA::ORB_ptr</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>orb</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize the Naming Service with the command line arguments and the ORB.
<p>
    </td>
  </tr>
</table>
<a name="a6" doxytag="TAO_Naming_Server::naming_service_ior"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char * TAO_Naming_Server::naming_service_ior </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the IOR of the naming service.
<p>
    </td>
  </tr>
</table>
<a name="a7" doxytag="TAO_Naming_Server::operator->"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CosNaming::NamingContext_ptr TAO_Naming_Server::operator-&gt; </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a &lt;NamingContext_ptr&gt; for the root Naming Context.
<p>
    </td>
  </tr>
</table>
<a name="b1" doxytag="TAO_Naming_Server::parse_args"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Naming_Server::parse_args </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>argv</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
parses the arguments.
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="n11" doxytag="TAO_Naming_Server::base_address_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void* TAO_Naming_Server::base_address_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Address to be used for memory mapping Naming Service state file, identified by the &lt;persistence_file_name_&gt;.
<p>
    </td>
  </tr>
</table>
<a name="n3" doxytag="TAO_Naming_Server::context_index_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTAO__Persistent__Context__Index.html">TAO_Persistent_Context_Index</a>* TAO_Naming_Server::context_index_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pointer to the object used to create/initialize the Naming Service when local persistent Naming Service is desired.     </td>
  </tr>
</table>
<a name="n9" doxytag="TAO_Naming_Server::context_size_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> size_t TAO_Naming_Server::context_size_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Size of the hash_table allocated upon the creation of the Naming Service context (if one is created). Note: all the contexts created under the given context will use the same size for their initial hash table allocations.     </td>
  </tr>
</table>
<a name="n1" doxytag="TAO_Naming_Server::ior_multicast_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_IOR_Multicast* TAO_Naming_Server::ior_multicast_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The ior_multicast event handler.
<p>
    </td>
  </tr>
</table>
<a name="n7" doxytag="TAO_Naming_Server::ior_output_file_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> FILE* TAO_Naming_Server::ior_output_file_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
File to output the Naming Service IOR.
<p>
    </td>
  </tr>
</table>
<a name="n13" doxytag="TAO_Naming_Server::multicast_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Naming_Server::multicast_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If not zero multicast is enabled.
<p>
    </td>
  </tr>
</table>
<a name="n0" doxytag="TAO_Naming_Server::naming_context_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> CosNaming::NamingContext_var TAO_Naming_Server::naming_context_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Root NamingContext_ptr.
<p>
    </td>
  </tr>
</table>
<a name="n2" doxytag="TAO_Naming_Server::naming_service_ior_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a29">CORBA::String_var</a> TAO_Naming_Server::naming_service_ior_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The IOR string of the root naming context.
<p>
    </td>
  </tr>
</table>
<a name="n6" doxytag="TAO_Naming_Server::ns_poa_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PortableServer::POA_var TAO_Naming_Server::ns_poa_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The Naming Service POA.
<p>
    </td>
  </tr>
</table>
<a name="n4" doxytag="TAO_Naming_Server::orb_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="TAO.tag:../" href="../namespaceCORBA.html#a92">CORBA::ORB_var</a> TAO_Naming_Server::orb_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The ORB.
<p>
    </td>
  </tr>
</table>
<a name="n10" doxytag="TAO_Naming_Server::persistence_file_name_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a>* TAO_Naming_Server::persistence_file_name_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Path to the file to be used to store/read in Naming Service persistent state.
<p>
    </td>
  </tr>
</table>
<a name="n8" doxytag="TAO_Naming_Server::pid_file_name_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/ace__wchar_8h.html#a9">ACE_TCHAR</a>* TAO_Naming_Server::pid_file_name_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
File to output the process id.
<p>
    </td>
  </tr>
</table>
<a name="n5" doxytag="TAO_Naming_Server::root_poa_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PortableServer::POA_var TAO_Naming_Server::root_poa_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The Root POA.
<p>
    </td>
  </tr>
</table>
<a name="n12" doxytag="TAO_Naming_Server::time_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> size_t TAO_Naming_Server::time_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
After how long the server should stop listening to requests (in seconds).
<p>
    </td>
  </tr>
</table>
<a name="n14" doxytag="TAO_Naming_Server::use_storable_context_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Naming_Server::use_storable_context_<code> [protected]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If not zero use flat file persistence.
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Naming__Utils_8h.html">Naming_Utils.h</a><li><a class="el" href="Naming__Utils_8cpp.html">Naming_Utils.cpp</a></ul>
<hr><address><small>Generated on Thu Jan 16 00:34:10 2003 for TAO_CosNaming by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
