<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TAO_PICurrent_Guard class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>TAO_PICurrent_Guard  Class Reference</h1>Class used to make copying between request scope current and thread scope current exception-safe. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;PICurrent.h&gt;</code>
<p>
Collaboration diagram for TAO_PICurrent_Guard:<p><center><img src="classTAO__PICurrent__Guard__coll__graph.gif" border="0" usemap="#TAO__PICurrent__Guard__coll__map" alt="Collaboration graph"></center>
<map name="TAO__PICurrent__Guard__coll__map">
<area href="classTAO__PICurrent__Impl.html" shape="rect" coords="287,313,421,332" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Base.html" shape="rect" coords="153,209,369,228" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Iterator.html" shape="rect" coords="18,313,242,332" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Iterator.html" shape="rect" coords="21,15,178,33" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Base.html" shape="rect" coords="187,119,334,137" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Allocator.html" shape="rect" coords="426,15,522,33" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classTAO__PICurrent__Guard-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__PICurrent__Guard.html#a0">TAO_PICurrent_Guard</a> (<a class="el" href="classTAO__ServerRequest.html">TAO_ServerRequest</a> &amp;server_request, <a class="el" href="namespaceCORBA.html#a1">CORBA::Boolean</a> tsc_to_rsc)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Constructor.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__PICurrent__Guard.html#a1">~TAO_PICurrent_Guard</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destructor.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTAO__PICurrent__Impl.html">TAO_PICurrent_Impl</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__PICurrent__Guard.html#o0">src_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The PICurrent implementation whose slot table will copied.</em> <a href="#o0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTAO__PICurrent__Impl.html">TAO_PICurrent_Impl</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__PICurrent__Guard.html#o1">dest_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The PICurrent implementation whose slot table will filled with the contents of another PICurrent's slot table.</em> <a href="#o1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="namespaceCORBA.html#a1">CORBA::Boolean</a>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__PICurrent__Guard.html#o2">tsc_to_rsc_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Flag that indicates if the TSC is to be copied to the RSC.</em> <a href="#o2">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class used to make copying between request scope current and thread scope current exception-safe.
<p>

<p>
 Since copies between the request scope current and thread scope current must also occur if an exception is thrown, e.g. made available to the send_exception() interception points, the "guard" idiom is used to make this action exception-safe.
<p>
<dl compact><dt><b>
Note: </b><dd>
This Guard class is only used on the server side. </dl>
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="TAO_PICurrent_Guard::TAO_PICurrent_Guard"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_PICurrent_Guard::TAO_PICurrent_Guard </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__ServerRequest.html">TAO_ServerRequest</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>server_request</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="namespaceCORBA.html#a1">CORBA::Boolean</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>tsc_to_rsc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor.
<p>
This constructor sets up this guard to copy the data held in a given PICurrent when transitioning from that PICurrent's scope to another scope (e.g. request scope to thread scope transition immediately following receive_request_service_contexts() on server side).     </td>
  </tr>
</table>
<a name="a1" doxytag="TAO_PICurrent_Guard::~TAO_PICurrent_Guard"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_PICurrent_Guard::~TAO_PICurrent_Guard </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>
The destructor copies (a logical copy whenever possible) data held in a given PICurrent when transitioning from one PICurrent scope to another immediately before any ending interception points are invoked, and after the sending and intermediate (if any) interception points are invoked.     </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o1" doxytag="TAO_PICurrent_Guard::dest_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTAO__PICurrent__Impl.html">TAO_PICurrent_Impl</a>* TAO_PICurrent_Guard::dest_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The PICurrent implementation whose slot table will filled with the contents of another PICurrent's slot table.
<p>
    </td>
  </tr>
</table>
<a name="o0" doxytag="TAO_PICurrent_Guard::src_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTAO__PICurrent__Impl.html">TAO_PICurrent_Impl</a>* TAO_PICurrent_Guard::src_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The PICurrent implementation whose slot table will copied.
<p>
    </td>
  </tr>
</table>
<a name="o2" doxytag="TAO_PICurrent_Guard::tsc_to_rsc_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="namespaceCORBA.html#a1">CORBA::Boolean</a> TAO_PICurrent_Guard::tsc_to_rsc_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flag that indicates if the TSC is to be copied to the RSC.
<p>
If false, then the RSC must be deep copied upon leaving the request scope and entering the thread scope. This is necessary since the RSC slot table is no longer available upon leaving the thread scope, meaning that a logical copy is not enough.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="PICurrent_8h.html">PICurrent.h</a><li><a class="el" href="PICurrent_8cpp.html">PICurrent.cpp</a></ul>
<hr><address><small>Generated on Wed Jan 15 20:50:32 2003 for TAO by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
