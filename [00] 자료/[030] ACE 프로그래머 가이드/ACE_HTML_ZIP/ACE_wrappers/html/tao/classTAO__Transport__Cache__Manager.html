<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TAO_Transport_Cache_Manager class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>TAO_Transport_Cache_Manager  Class Reference</h1>The Transport Cache Manager for <a class="el" href="namespaceTAO.html">TAO</a>. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;Transport_Cache_Manager.h&gt;</code>
<p>
Collaboration diagram for TAO_Transport_Cache_Manager:<p><center><img src="classTAO__Transport__Cache__Manager__coll__graph.gif" border="0" usemap="#TAO__Transport__Cache__Manager__coll__map" alt="Collaboration graph"></center>
<map name="TAO__Transport__Cache__Manager__coll__map">
<area href="classTAO__Condition.html" shape="rect" coords="590,14,846,33" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Hash__Map__Manager__Ex.html" shape="rect" coords="234,133,1202,151" alt="">
<area href="classTAO__Cache__ExtId.html" shape="rect" coords="25,105,145,123" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Lock.html" shape="rect" coords="682,201,754,219" alt="">
<area href="classTAO__Connection__Purging__Strategy.html" shape="rect" coords="609,269,827,287" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classTAO__Transport__Cache__Manager-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td nowrap align=right valign=top>typedef <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Hash__Map__Manager__Ex.html">ACE_Hash_Map_Manager_Ex</a>&lt;<br>
 <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a>, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a>,<br>
 <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Hash.html">ACE_Hash</a>&lt; <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &gt;,<br>
 <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Equal__To.html">ACE_Equal_To</a>&lt; <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &gt;,<br>
 <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Null__Mutex.html">ACE_Null_Mutex</a> &gt;&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#s0">HASH_MAP</a></td></tr>
<tr><td nowrap align=right valign=top>typedef HASH_MAP::iterator&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#s1">HASH_MAP_ITER</a></td></tr>
<tr><td nowrap align=right valign=top>typedef <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Hash__Map__Entry.html">ACE_Hash_Map_Entry</a>&lt;<br>
 <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a>, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &gt;&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a></td></tr>
<tr><td nowrap align=right valign=top>typedef <a class="el" href="classTAO__Condition.html">TAO_Condition</a>&lt; TAO_SYNCH_MUTEX &gt;&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#s3">CONDITION</a></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a0">TAO_Transport_Cache_Manager</a> (<a class="el" href="classTAO__ORB__Core.html">TAO_ORB_Core</a> &amp;orb_core)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Constructor.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a1">~TAO_Transport_Cache_Manager</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destructor.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a2">cache_transport</a> (<a class="el" href="classTAO__Transport__Descriptor__Interface.html">TAO_Transport_Descriptor_Interface</a> *prop, <a class="el" href="classTAO__Transport.html">TAO_Transport</a> *transport)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Add the transport to the cache.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a3">cache_idle_transport</a> (<a class="el" href="classTAO__Transport__Descriptor__Interface.html">TAO_Transport_Descriptor_Interface</a> *prop, <a class="el" href="classTAO__Transport.html">TAO_Transport</a> *transport)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Similar to the one above, but the transport is left in <code> ACE_RECYCLABLE_IDLE_AND_PURGABLE</code> state.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a4">find_transport</a> (<a class="el" href="classTAO__Transport__Descriptor__Interface.html">TAO_Transport_Descriptor_Interface</a> *prop, <a class="el" href="classTAO__Transport.html">TAO_Transport</a> *&amp;transport)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Check the Transport Cache to check whether the connection exists in the Cache and return the connection.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a5">purge</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Remove entries from the cache depending upon the strategy.</em> <a href="#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a6">purge_entry</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Purge the entry from the Cache Map.</em> <a href="#a6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a7">mark_invalid</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Mark the entry as invalid for use but keep it in cache.</em> <a href="#a7">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a8">make_idle</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;entry)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Make the entry idle and ready for use.</em> <a href="#a8">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a9">update_entry</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;entry)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Mark the entry as touched. This call updates the purging strategy policy information.</em> <a href="#a9">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a10">close</a> (<a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Handle__Set.html">ACE_Handle_Set</a> &amp;reactor_registered, <a class="el" href="Transport__Cache__Manager_8h.html#a1">TAO_EventHandlerSet</a> &amp;unregistered)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Close the underlying hash map manager and return the handle set that have been registered with the reactor.</em> <a href="#a10">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a11">current_size</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return the current size of the cache.</em> <a href="#a11">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#a12">total_size</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return the total size of the cache.</em> <a href="#a12">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Types</h2></td></tr>
<tr><td nowrap align=right valign=top>typedef <a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> **&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#u0">DESCRIPTOR_SET</a></td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c0">bind</a> (<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;ext_id, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;int_id)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Associate &lt;ext_id&gt; with &lt;int_id&gt;. Grabs the lock and calls the implementation function bind_i.</em> <a href="#c0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c1">find</a> (const <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;key, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;value)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Lookup entry&lt;key,value&gt; in the cache. Grabs the lock and calls the implementation function find_i.</em> <a href="#c1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c2">bind_i</a> (<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;ext_id, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;int_id)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c3">find_i</a> (const <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;key, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;value)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c4">make_idle_i</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;entry)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Non-locking version and actual implementation of make_idle ().</em> <a href="#c4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c5">close_i</a> (<a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Handle__Set.html">ACE_Handle_Set</a> &amp;reactor_registered, <a class="el" href="Transport__Cache__Manager_8h.html#a1">TAO_EventHandlerSet</a> &amp;unregistered)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Non-locking version and actual implementation of close ().</em> <a href="#c5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c6">purge_entry_i</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;entry)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Purge the entry from the Cache Map.</em> <a href="#c6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c7">mark_invalid_i</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Mark the entry as invalid for use but keep it in cache.</em> <a href="#c7">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c8">get_last_index_bind</a> (<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;key, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;val, <a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;entry)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c9">is_entry_idle</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;entry)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c10">sort_set</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#u0">DESCRIPTOR_SET</a> &amp;entries, int size)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Sort the list of entries.</em> <a href="#c10">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c11">fill_set_i</a> (<a class="el" href="classTAO__Transport__Cache__Manager.html#u0">DESCRIPTOR_SET</a> &amp;sorted_set)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Fill sorted_set in with the <a class="el" href="classTAO__Transport__Descriptor__Interface.html">TAO_Transport_Descriptor_Interface</a>'s in a sorted order.</em> <a href="#c11">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c12">wait_for_connection</a> (<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;extid)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Wait for connections if we have reached the limit on the number of muxed connections. If not (ie. if we dont use a muxed connection or if we have not reached the limit) this just behaves as a no-op. &lt;extid&gt; has all the information about the connection that is being searched.</em> <a href="#c12">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#c13">is_wakeup_useful</a> (<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;extid)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Is the wakeup useful todo some work?</em> <a href="#c13">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#f0">cpscmp</a> (const void *a, const void *b)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Used by qsort.</em> <a href="#f0">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#o0">percent_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The percentage of the cache to purge at one time.</em> <a href="#o0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTAO__Connection__Purging__Strategy.html">TAO_Connection_Purging_Strategy</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#o1">purging_strategy_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The underlying connection purging strategy.</em> <a href="#o1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTAO__Transport__Cache__Manager.html#s0">HASH_MAP</a>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#o2">cache_map_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The hash map that has the connections.</em> <a href="#o2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTAO__Transport__Cache__Manager.html#s3">CONDITION</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#o3">condition_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The condition variable.</em> <a href="#o3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Lock.html">ACE_Lock</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#o4">cache_lock_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The lock that is used by the cache map.</em> <a href="#o4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="namespaceCORBA.html#a11">CORBA::ULong</a>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#o5">muxed_number_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Number of allowed muxed connections.</em> <a href="#o5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#o6">no_waiting_threads_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Number of threads waiting for connections.</em> <a href="#o6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Transport__Cache__Manager.html#o7">last_entry_returned_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This is for optimization purposes. In a situation where number of threads are waiting for connections, the last connection that is put back is cached here. This should prevent all th threads trying to search for their required entry.</em> <a href="#o7">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The Transport Cache Manager for <a class="el" href="namespaceTAO.html">TAO</a>.
<p>

<p>
 This class provides interfaces associating a <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp; <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a>. This class is wrapper around the <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Hash__Map__Manager.html">ACE_Hash_Map_Manager</a> class which is used as a container to Cache the connections. This class protects the entries with a lock. The map is updated only by holding the lock. The more compelling reason to have the lock in this class and not in the Hash_Map is that, we do quite a bit of work in this class for which we need a lock. 
<p>
<hr><h2>Member Typedef Documentation</h2>
<a name="s3" doxytag="TAO_Transport_Cache_Manager::CONDITION"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="el" href="classTAO__Condition.html">TAO_Condition</a>&lt;TAO_SYNCH_MUTEX&gt; TAO_Transport_Cache_Manager::CONDITION
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="u0" doxytag="TAO_Transport_Cache_Manager::DESCRIPTOR_SET"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a>** TAO_Transport_Cache_Manager::DESCRIPTOR_SET<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="s0" doxytag="TAO_Transport_Cache_Manager::HASH_MAP"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Hash__Map__Manager__Ex.html">ACE_Hash_Map_Manager_Ex</a>&lt;<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a>, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a>, <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Hash.html">ACE_Hash</a>&lt;<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a>&gt;, <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Equal__To.html">ACE_Equal_To</a>&lt;<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a>&gt;, <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Null__Mutex.html">ACE_Null_Mutex</a>&gt; TAO_Transport_Cache_Manager::HASH_MAP
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="s2" doxytag="TAO_Transport_Cache_Manager::HASH_MAP_ENTRY"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Hash__Map__Entry.html">ACE_Hash_Map_Entry</a>&lt;<a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a>, <a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a>&gt; TAO_Transport_Cache_Manager::HASH_MAP_ENTRY
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="s1" doxytag="TAO_Transport_Cache_Manager::HASH_MAP_ITER"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> typedef HASH_MAP::iterator TAO_Transport_Cache_Manager::HASH_MAP_ITER
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="TAO_Transport_Cache_Manager::TAO_Transport_Cache_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Transport_Cache_Manager::TAO_Transport_Cache_Manager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__ORB__Core.html">TAO_ORB_Core</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>orb_core</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor.
<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="TAO_Transport_Cache_Manager::~TAO_Transport_Cache_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Transport_Cache_Manager::~TAO_Transport_Cache_Manager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="c0" doxytag="TAO_Transport_Cache_Manager::bind"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> int TAO_Transport_Cache_Manager::bind </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext_id</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>int_id</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Associate &lt;ext_id&gt; with &lt;int_id&gt;. Grabs the lock and calls the implementation function bind_i.
<p>
    </td>
  </tr>
</table>
<a name="c2" doxytag="TAO_Transport_Cache_Manager::bind_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::bind_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ext_id</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>int_id</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Non-Locking version and actual implementation of bind () call. Calls bind on the Hash_Map_Manager that it holds. If the bind succeeds, it adds the Hash_Map_Entry in to the Transport for its reference. If the bind fails because of an exiting entry, this method calls the get_last_index_bind ().     </td>
  </tr>
</table>
<a name="a3" doxytag="TAO_Transport_Cache_Manager::cache_idle_transport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> int TAO_Transport_Cache_Manager::cache_idle_transport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Descriptor__Interface.html">TAO_Transport_Descriptor_Interface</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>prop</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Transport.html">TAO_Transport</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>transport</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Similar to the one above, but the transport is left in <code> ACE_RECYCLABLE_IDLE_AND_PURGABLE</code> state.
<p>
    </td>
  </tr>
</table>
<a name="a2" doxytag="TAO_Transport_Cache_Manager::cache_transport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> int TAO_Transport_Cache_Manager::cache_transport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Descriptor__Interface.html">TAO_Transport_Descriptor_Interface</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>prop</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Transport.html">TAO_Transport</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>transport</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add the transport to the cache.
<p>
The transport has the property definition based on which caching can be done. This method marks the transport <code>ACE_RECYCLABLE_BUSY </code> which helps the threads opening up connections to use the transport immediately.     </td>
  </tr>
</table>
<a name="a10" doxytag="TAO_Transport_Cache_Manager::close"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> int TAO_Transport_Cache_Manager::close </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Handle__Set.html">ACE_Handle_Set</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reactor_registered</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="Transport__Cache__Manager_8h.html#a1">TAO_EventHandlerSet</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>unregistered</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the underlying hash map manager and return the handle set that have been registered with the reactor.
<p>
    </td>
  </tr>
</table>
<a name="c5" doxytag="TAO_Transport_Cache_Manager::close_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::close_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Handle__Set.html">ACE_Handle_Set</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>reactor_registered</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="Transport__Cache__Manager_8h.html#a1">TAO_EventHandlerSet</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>unregistered</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Non-locking version and actual implementation of close ().
<p>
    </td>
  </tr>
</table>
<a name="f0" doxytag="TAO_Transport_Cache_Manager::cpscmp"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::cpscmp </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>a</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>b</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static, private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Used by qsort.
<p>
    </td>
  </tr>
</table>
<a name="a11" doxytag="TAO_Transport_Cache_Manager::current_size"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> size_t TAO_Transport_Cache_Manager::current_size </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the current size of the cache.
<p>
    </td>
  </tr>
</table>
<a name="c11" doxytag="TAO_Transport_Cache_Manager::fill_set_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::fill_set_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#u0">DESCRIPTOR_SET</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>sorted_set</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fill sorted_set in with the <a class="el" href="classTAO__Transport__Descriptor__Interface.html">TAO_Transport_Descriptor_Interface</a>'s in a sorted order.
<p>
    </td>
  </tr>
</table>
<a name="c1" doxytag="TAO_Transport_Cache_Manager::find"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::find </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>key</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>value</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Lookup entry&lt;key,value&gt; in the cache. Grabs the lock and calls the implementation function find_i.
<p>
    </td>
  </tr>
</table>
<a name="c3" doxytag="TAO_Transport_Cache_Manager::find_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::find_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>key</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>value</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Non-locking version and actual implementation of find () call. This calls the find () on the underlying Hash_Map_Manager. If the find succeeds, it calls the get_idle_transport ().     </td>
  </tr>
</table>
<a name="a4" doxytag="TAO_Transport_Cache_Manager::find_transport"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::find_transport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Descriptor__Interface.html">TAO_Transport_Descriptor_Interface</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>prop</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Transport.html">TAO_Transport</a> *&amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>transport</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check the Transport Cache to check whether the connection exists in the Cache and return the connection.
<p>
    </td>
  </tr>
</table>
<a name="c8" doxytag="TAO_Transport_Cache_Manager::get_last_index_bind"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::get_last_index_bind </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>key</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Cache__IntId.html">TAO_Cache_IntId</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>val</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>entry</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is called by the bind () call when a bind fails with a available entry. When a new connection is created in <a class="el" href="namespaceTAO.html">TAO</a> with an already existing endpoint, in addition to an exisitng one, we mark the connections with an index. This method, finds out the last highest index and binds the entry with an index = (last highest index + 1).     </td>
  </tr>
</table>
<a name="c9" doxytag="TAO_Transport_Cache_Manager::is_entry_idle"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::is_entry_idle </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Tries to find if the &lt;int_id_&gt; in entry is idle for use. If it is idle it is immediately markes as busy and returns a value of 1, else it returns a value of 0     </td>
  </tr>
</table>
<a name="c13" doxytag="TAO_Transport_Cache_Manager::is_wakeup_useful"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::is_wakeup_useful </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>extid</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Is the wakeup useful todo some work?
<p>
    </td>
  </tr>
</table>
<a name="a8" doxytag="TAO_Transport_Cache_Manager::make_idle"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> int TAO_Transport_Cache_Manager::make_idle </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Make the entry idle and ready for use.
<p>
    </td>
  </tr>
</table>
<a name="c4" doxytag="TAO_Transport_Cache_Manager::make_idle_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::make_idle_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Non-locking version and actual implementation of make_idle ().
<p>
    </td>
  </tr>
</table>
<a name="a7" doxytag="TAO_Transport_Cache_Manager::mark_invalid"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> void TAO_Transport_Cache_Manager::mark_invalid </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mark the entry as invalid for use but keep it in cache.
<p>
    </td>
  </tr>
</table>
<a name="c7" doxytag="TAO_Transport_Cache_Manager::mark_invalid_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TAO_Transport_Cache_Manager::mark_invalid_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mark the entry as invalid for use but keep it in cache.
<p>
    </td>
  </tr>
</table>
<a name="a5" doxytag="TAO_Transport_Cache_Manager::purge"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::purge </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove entries from the cache depending upon the strategy.
<p>
    </td>
  </tr>
</table>
<a name="a6" doxytag="TAO_Transport_Cache_Manager::purge_entry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> int TAO_Transport_Cache_Manager::purge_entry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Purge the entry from the Cache Map.
<p>
    </td>
  </tr>
</table>
<a name="c6" doxytag="TAO_Transport_Cache_Manager::purge_entry_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::purge_entry_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Purge the entry from the Cache Map.
<p>
    </td>
  </tr>
</table>
<a name="c10" doxytag="TAO_Transport_Cache_Manager::sort_set"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TAO_Transport_Cache_Manager::sort_set </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#u0">DESCRIPTOR_SET</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>entries</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>current_size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sort the list of entries.
<p>
    </td>
  </tr>
</table>
<a name="a12" doxytag="TAO_Transport_Cache_Manager::total_size"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> size_t TAO_Transport_Cache_Manager::total_size </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the total size of the cache.
<p>
    </td>
  </tr>
</table>
<a name="a9" doxytag="TAO_Transport_Cache_Manager::update_entry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::update_entry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Transport__Cache__Manager.html#s2">HASH_MAP_ENTRY</a> *&amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mark the entry as touched. This call updates the purging strategy policy information.
<p>
    </td>
  </tr>
</table>
<a name="c12" doxytag="TAO_Transport_Cache_Manager::wait_for_connection"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::wait_for_connection </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>extid</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Wait for connections if we have reached the limit on the number of muxed connections. If not (ie. if we dont use a muxed connection or if we have not reached the limit) this just behaves as a no-op. &lt;extid&gt; has all the information about the connection that is being searched.
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o4" doxytag="TAO_Transport_Cache_Manager::cache_lock_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Lock.html">ACE_Lock</a>* TAO_Transport_Cache_Manager::cache_lock_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The lock that is used by the cache map.
<p>
    </td>
  </tr>
</table>
<a name="o2" doxytag="TAO_Transport_Cache_Manager::cache_map_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTAO__Transport__Cache__Manager.html#s0">HASH_MAP</a> TAO_Transport_Cache_Manager::cache_map_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The hash map that has the connections.
<p>
    </td>
  </tr>
</table>
<a name="o3" doxytag="TAO_Transport_Cache_Manager::condition_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTAO__Transport__Cache__Manager.html#s3">CONDITION</a>* TAO_Transport_Cache_Manager::condition_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The condition variable.
<p>
    </td>
  </tr>
</table>
<a name="o7" doxytag="TAO_Transport_Cache_Manager::last_entry_returned_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTAO__Cache__ExtId.html">TAO_Cache_ExtId</a>* TAO_Transport_Cache_Manager::last_entry_returned_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is for optimization purposes. In a situation where number of threads are waiting for connections, the last connection that is put back is cached here. This should prevent all th threads trying to search for their required entry.
<p>
    </td>
  </tr>
</table>
<a name="o5" doxytag="TAO_Transport_Cache_Manager::muxed_number_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="namespaceCORBA.html#a11">CORBA::ULong</a> TAO_Transport_Cache_Manager::muxed_number_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Number of allowed muxed connections.
<p>
    </td>
  </tr>
</table>
<a name="o6" doxytag="TAO_Transport_Cache_Manager::no_waiting_threads_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::no_waiting_threads_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Number of threads waiting for connections.
<p>
    </td>
  </tr>
</table>
<a name="o0" doxytag="TAO_Transport_Cache_Manager::percent_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Transport_Cache_Manager::percent_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The percentage of the cache to purge at one time.
<p>
    </td>
  </tr>
</table>
<a name="o1" doxytag="TAO_Transport_Cache_Manager::purging_strategy_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classTAO__Connection__Purging__Strategy.html">TAO_Connection_Purging_Strategy</a>* TAO_Transport_Cache_Manager::purging_strategy_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The underlying connection purging strategy.
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Transport__Cache__Manager_8h.html">Transport_Cache_Manager.h</a><li><a class="el" href="Transport__Cache__Manager_8cpp.html">Transport_Cache_Manager.cpp</a><li><a class="el" href="Transport__Cache__Manager_8inl.html">Transport_Cache_Manager.inl</a></ul>
<hr><address><small>Generated on Wed Jan 15 20:58:38 2003 for TAO by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
