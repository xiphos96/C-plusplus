<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TAO_Singleton_Manager class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>TAO_Singleton_Manager  Class Reference</h1>Manager for <a class="el" href="namespaceTAO.html">TAO</a> library services and singleton cleanup. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;TAO_Singleton_Manager.h&gt;</code>
<p>
Inheritance diagram for TAO_Singleton_Manager:<p><center><img src="classTAO__Singleton__Manager__inherit__graph.gif" border="0" usemap="#TAO__Singleton__Manager__inherit__map" alt="Inheritance graph"></center>
<map name="TAO__Singleton__Manager__inherit__map">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager__Base.html" shape="rect" coords="14,15,193,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for TAO_Singleton_Manager:<p><center><img src="classTAO__Singleton__Manager__coll__graph.gif" border="0" usemap="#TAO__Singleton__Manager__coll__map" alt="Collaboration graph"></center>
<map name="TAO__Singleton__Manager__coll__map">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager__Base.html" shape="rect" coords="14,197,193,215" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html" shape="rect" coords="283,197,406,215" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__OS__Exit__Info.html" shape="rect" coords="430,197,553,215" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Cleanup__Info__Node.html" shape="rect" coords="413,106,570,125" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Cleanup__Info.html" shape="rect" coords="430,15,553,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classTAO__Singleton__Manager-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td nowrap align=right valign=top>enum &nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#s2">Preallocated_Object</a> { <a class="el" href="classTAO__Singleton__Manager.html#s2s0">TAO_EMPTY_PREALLOCATED_OBJECT</a>, 
<a class="el" href="classTAO__Singleton__Manager.html#s2s1">TAO_PREALLOCATED_OBJECTS</a>
 }</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Unique identifiers for preallocated Objects.</em> <a href="#s2">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#a0">init</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Explicitly initialize.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#a1">init</a> (int register_with_object_manager)</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#a2">fini</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Explicitly destroy.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#a3">_set_unexpected</a> (<a class="el" href="TAO__Singleton__Manager_8h.html#a0">TAO_unexpected_handler</a> u)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set a new unexpected exception handler.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#d0">starting_up</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#d1">shutting_down</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns 1 after the TAO_Singleton_Manager has been destroyed. See <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html#d1">ACE_Object_Manager::shutting_down</a> for more information.</em> <a href="#d1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>sigset_t *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#d2">default_mask</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accesses a default signal set used, for example, in <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Sig__Guard.html">ACE_Sig_Guard</a> methods.</em> <a href="#d2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html">ACE_Thread_Hook</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#d3">thread_hook</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the current thread hook for the process.</em> <a href="#d3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html">ACE_Thread_Hook</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#d4">thread_hook</a> (<a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html">ACE_Thread_Hook</a> *new_thread_hook)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns the existing thread hook and assign a new_thread_hook.</em> <a href="#d4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>TAO_Singleton_Manager *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#d5">instance</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Accessor to singleton instance.</em> <a href="#d5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#d6">at_exit</a> (<a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Cleanup.html">ACE_Cleanup</a> *object, void *param=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Register an <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Cleanup.html">ACE_Cleanup</a> object for cleanup at process termination.</em> <a href="#d6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#d7">at_exit</a> (void *object, <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8h.html#a374">ACE_CLEANUP_FUNC</a> cleanup_hook, void *param)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Register an object (or array) for cleanup at process termination.</em> <a href="#d7">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#c0">at_exit_i</a> (void *object, <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8h.html#a374">ACE_CLEANUP_FUNC</a> cleanup_hook, void *param)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Register an object or array for deletion at program termination. See description of static version above for return values.</em> <a href="#c0">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#z63_0">TAO_Singleton_Manager</a> (void)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#z63_1">~TAO_Singleton_Manager</a> (void)</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#z64_0">TAO_Singleton_Manager</a> (const TAO_Singleton_Manager &amp;)</td></tr>
<tr><td nowrap align=right valign=top>TAO_Singleton_Manager &amp;&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#z64_1">operator=</a> (const TAO_Singleton_Manager &amp;)</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>sigset_t *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#o0">default_mask_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Default signal set used, for example, in <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Sig__Guard.html">ACE_Sig_Guard</a>.</em> <a href="#o0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html">ACE_Thread_Hook</a> *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#o1">thread_hook_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Thread hook that's used by this process.</em> <a href="#o1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__OS__Exit__Info.html">ACE_OS_Exit_Info</a>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#o2">exit_info_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>For at_exit support.</em> <a href="#o2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#o3">registered_with_object_manager_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Indicates if TAO_Singleton_Manager is registered with the <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html">ACE_Object_Manager</a>.</em> <a href="#o3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="TAO__Singleton__Manager_8h.html#a0">TAO_unexpected_handler</a>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#o4">old_unexpected_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The old unexpected exception handler.</em> <a href="#o4">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>TAO_Singleton_Manager *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#r0">instance_</a> = 0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Singleton instance pointer.</em> <a href="#r0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void *&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#r1">preallocated_object</a> [TAO_PREALLOCATED_OBJECTS] = { 0 }</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Table of preallocated objects.</em> <a href="#r1">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Friends</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Singleton__Manager.html#l0">TAO_Singleton_Manager_cleanup_destroyer</a> (void *, void *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Adapter for cleanup, used to register cleanup function with the <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html">ACE_Object_Manager</a>.</em> <a href="#l0">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Manager for <a class="el" href="namespaceTAO.html">TAO</a> library services and singleton cleanup.
<p>

<p>
 The TAO_Singleton_Manager is basically simplified version of the <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html">ACE_Object_Manager</a>. It is designed specifically to manage singletons created by <a class="el" href="namespaceTAO.html">TAO</a>. For example, singleton instances created by <a class="el" href="namespaceTAO.html">TAO</a> will be automatically registered with the singleton instance of this Singleton Manager. 
<p>
 This class is necessary to ensure that <a class="el" href="namespaceTAO.html">TAO</a>-specific singletons are isolated to <a class="el" href="namespaceTAO.html">TAO</a> itself, not <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE.html">ACE</a>, for example. The idea is that destruction of the instance of the TAO_Singleton_Manager triggers destruction of all objects/services registered with it. 
<p>
<hr><h2>Member Enumeration Documentation</h2>
<a name="s2" doxytag="TAO_Singleton_Manager::Preallocated_Object"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> enum TAO_Singleton_Manager::Preallocated_Object
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unique identifiers for preallocated Objects.
<p>
<dl compact><dt><b>
Enumeration values:</b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em><a name="s2s0" doxytag="TAO_EMPTY_PREALLOCATED_OBJECT"></a><em>TAO_EMPTY_PREALLOCATED_OBJECT</em></em>&nbsp;</td><td>
Without ACE_MT_SAFE, There are no preallocated objects. Make sure that the preallocated_array size is at least one by declaring this dummy ...</td></tr>
<tr><td valign=top><em><a name="s2s1" doxytag="TAO_PREALLOCATED_OBJECTS"></a><em>TAO_PREALLOCATED_OBJECTS</em></em>&nbsp;</td><td>
This enum value must be last!</td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="z63_0" doxytag="TAO_Singleton_Manager::TAO_Singleton_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Singleton_Manager::TAO_Singleton_Manager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="z63_1" doxytag="TAO_Singleton_Manager::~TAO_Singleton_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Singleton_Manager::~TAO_Singleton_Manager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="z64_0" doxytag="TAO_Singleton_Manager::TAO_Singleton_Manager"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Singleton_Manager::TAO_Singleton_Manager </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TAO_Singleton_Manager &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="TAO_Singleton_Manager::_set_unexpected"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TAO_Singleton_Manager::_set_unexpected </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="TAO__Singleton__Manager_8h.html#a0">TAO_unexpected_handler</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>u</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a new unexpected exception handler.
<p>
The old one will be stored for restoration later on.
<p>
<dl compact><dt><b>
Note: </b><dd>
Calling this method multiple times will cause the stored old unexpected exception handler pointer to be lost. </dl>    </td>
  </tr>
</table>
<a name="d7" doxytag="TAO_Singleton_Manager::at_exit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> int TAO_Singleton_Manager::at_exit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>object</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8h.html#a374">ACE_CLEANUP_FUNC</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cleanup_hook</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>param</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register an object (or array) for cleanup at process termination.
<p>
cleanup_hook points to a (global, or static member) function that is called for the object or array when it to be destroyed. It may perform any necessary cleanup specific for that object or its class. param is passed as the second parameter to the cleanup_hook function; the first parameter is the object (or array) to be destroyed. cleanup_hook, for example, may delete the object (or array). For OS's that do not have processes, this function is the same as &lt;at_thread_exit&gt;. Returns 0 on success. On failure, returns -1 and sets errno to: EAGAIN if shutting down, ENOMEM if insufficient virtual memory, or EEXIST if the object (or array) had already been registered.     </td>
  </tr>
</table>
<a name="d6" doxytag="TAO_Singleton_Manager::at_exit"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> int TAO_Singleton_Manager::at_exit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Cleanup.html">ACE_Cleanup</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>object</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>param</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register an <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Cleanup.html">ACE_Cleanup</a> object for cleanup at process termination.
<p>
The object is deleted via the ace_cleanup_destroyer. If you need more flexiblity, see the other at_exit method below. For OS's that do not have processes, cleanup takes place at the end of main. Returns 0 on success. On failure, returns -1 and sets errno to: EAGAIN if shutting down, ENOMEM if insufficient virtual memory, or EEXIST if the object (or array) had already been registered.     </td>
  </tr>
</table>
<a name="c0" doxytag="TAO_Singleton_Manager::at_exit_i"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Singleton_Manager::at_exit_i </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>object</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8h.html#a374">ACE_CLEANUP_FUNC</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cleanup_hook</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>param</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register an object or array for deletion at program termination. See description of static version above for return values.
<p>
    </td>
  </tr>
</table>
<a name="d2" doxytag="TAO_Singleton_Manager::default_mask"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> sigset_t * TAO_Singleton_Manager::default_mask </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accesses a default signal set used, for example, in <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Sig__Guard.html">ACE_Sig_Guard</a> methods.
<p>
    </td>
  </tr>
</table>
<a name="a2" doxytag="TAO_Singleton_Manager::fini"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Singleton_Manager::fini </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Explicitly destroy.
<p>

<p>
Reimplemented from <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager__Base.html#a1">ACE_Object_Manager_Base</a>.    </td>
  </tr>
</table>
<a name="a1" doxytag="TAO_Singleton_Manager::init"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Singleton_Manager::init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>register_with_object_manager</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Explicitly initialize the TAO_Singleton_Manager, in addition to explicitly registering (or not registering) with the <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html">ACE_Object_Manager</a>.     </td>
  </tr>
</table>
<a name="a0" doxytag="TAO_Singleton_Manager::init"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Singleton_Manager::init </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Explicitly initialize.
<p>

<p>
Reimplemented from <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager__Base.html#a0">ACE_Object_Manager_Base</a>.    </td>
  </tr>
</table>
<a name="d5" doxytag="TAO_Singleton_Manager::instance"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Singleton_Manager * TAO_Singleton_Manager::instance </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Accessor to singleton instance.
<p>
    </td>
  </tr>
</table>
<a name="z64_1" doxytag="TAO_Singleton_Manager::operator="></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Singleton_Manager&amp; TAO_Singleton_Manager::operator= </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TAO_Singleton_Manager &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="d1" doxytag="TAO_Singleton_Manager::shutting_down"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Singleton_Manager::shutting_down </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns 1 after the TAO_Singleton_Manager has been destroyed. See <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html#d1">ACE_Object_Manager::shutting_down</a> for more information.
<p>
    </td>
  </tr>
</table>
<a name="d0" doxytag="TAO_Singleton_Manager::starting_up"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Singleton_Manager::starting_up </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns 1 before the TAO_Singleton_Manager has been constructed. See <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html#d0">ACE_Object_Manager::starting_up</a> for more information.     </td>
  </tr>
</table>
<a name="d4" doxytag="TAO_Singleton_Manager::thread_hook"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html">ACE_Thread_Hook</a> * TAO_Singleton_Manager::thread_hook </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html">ACE_Thread_Hook</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>new_thread_hook</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the existing thread hook and assign a new_thread_hook.
<p>
    </td>
  </tr>
</table>
<a name="d3" doxytag="TAO_Singleton_Manager::thread_hook"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html">ACE_Thread_Hook</a> * TAO_Singleton_Manager::thread_hook </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the current thread hook for the process.
<p>
    </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a name="l0" doxytag="TAO_Singleton_Manager::TAO_Singleton_Manager_cleanup_destroyer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TAO_Singleton_Manager_cleanup_destroyer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [friend]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adapter for cleanup, used to register cleanup function with the <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html">ACE_Object_Manager</a>.
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o0" doxytag="TAO_Singleton_Manager::default_mask_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> sigset_t* TAO_Singleton_Manager::default_mask_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Default signal set used, for example, in <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Sig__Guard.html">ACE_Sig_Guard</a>.
<p>
    </td>
  </tr>
</table>
<a name="o2" doxytag="TAO_Singleton_Manager::exit_info_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__OS__Exit__Info.html">ACE_OS_Exit_Info</a> TAO_Singleton_Manager::exit_info_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For at_exit support.
<p>
    </td>
  </tr>
</table>
<a name="r0" doxytag="TAO_Singleton_Manager::instance_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Singleton_Manager * TAO_Singleton_Manager::instance_ = 0<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Singleton instance pointer.
<p>
    </td>
  </tr>
</table>
<a name="o4" doxytag="TAO_Singleton_Manager::old_unexpected_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="TAO__Singleton__Manager_8h.html#a0">TAO_unexpected_handler</a> TAO_Singleton_Manager::old_unexpected_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The old unexpected exception handler.
<p>
A pointer to the old unexpected exception handler is stored so that it can be restored when <a class="el" href="namespaceTAO.html">TAO</a> is unloaded, for example. Otherwise, any unexpected exceptions will result in a call to <a class="el" href="namespaceTAO.html">TAO</a>'s unexpected exception handler which may no longer exist if <a class="el" href="namespaceTAO.html">TAO</a> was unloaded.     </td>
  </tr>
</table>
<a name="r1" doxytag="TAO_Singleton_Manager::preallocated_object"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void * TAO_Singleton_Manager::preallocated_object = { 0 }<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Table of preallocated objects.
<p>
    </td>
  </tr>
</table>
<a name="o3" doxytag="TAO_Singleton_Manager::registered_with_object_manager_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Singleton_Manager::registered_with_object_manager_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Indicates if TAO_Singleton_Manager is registered with the <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Object__Manager.html">ACE_Object_Manager</a>.
<p>
    </td>
  </tr>
</table>
<a name="o1" doxytag="TAO_Singleton_Manager::thread_hook_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Thread__Hook.html">ACE_Thread_Hook</a>* TAO_Singleton_Manager::thread_hook_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Thread hook that's used by this process.
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TAO__Singleton__Manager_8h.html">TAO_Singleton_Manager.h</a><li><a class="el" href="TAO__Singleton__Manager_8cpp.html">TAO_Singleton_Manager.cpp</a><li><a class="el" href="TAO__Singleton__Manager_8inl.html">TAO_Singleton_Manager.inl</a></ul>
<hr><address><small>Generated on Wed Jan 15 20:55:14 2003 for TAO by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
