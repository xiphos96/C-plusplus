<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ACE_Local_WLock class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>ACE_Local_WLock  Class Reference</h1>Class that acquires, renews, and releases a writer lock that is local to the process. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;Local_Tokens.h&gt;</code>
<p>
Inheritance diagram for ACE_Local_WLock:<p><center><img src="classACE__Local__WLock__inherit__graph.gif" border="0" usemap="#ACE__Local__WLock__inherit__map" alt="Inheritance graph"></center>
<map name="ACE__Local__WLock__inherit__map">
<area href="classACE__Token__Proxy.html" shape="rect" coords="14,15,134,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for ACE_Local_WLock:<p><center><img src="classACE__Local__WLock__coll__graph.gif" border="0" usemap="#ACE__Local__WLock__coll__map" alt="Collaboration graph"></center>
<map name="ACE__Local__WLock__coll__map">
<area href="classACE__Token__Proxy.html" shape="rect" coords="255,15,375,34" alt="">
<area href="classACE__TSS__TPQ__Entry.html" shape="rect" coords="198,300,342,319" alt="">
<area href="classACE__TPQ__Entry.html" shape="rect" coords="307,210,433,228" alt="">
<area href="classACE__TPQ__Entry.html" shape="rect" coords="437,106,549,124" alt="">
<area href="classACE__Token__Proxy__Queue.html" shape="rect" coords="457,210,622,228" alt="">
<area href="classACE__Tokens.html" shape="rect" coords="561,300,649,319" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classACE__Local__WLock-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classACE__Local__WLock.html#a0">ACE_Local_WLock</a> (const <a class="el" href="ace__wchar_8h.html#a9">ACE_TCHAR</a> *token_name=0, int ignore_deadlock=0, int debug=0)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classACE__Local__WLock.html#a1">~ACE_Local_WLock</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destructor.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classACE__Local__WLock.html#a2">dump</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Dump the state of the class.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="classACE__Local__WLock.html#a3">type</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns ACE_RW_Token::WLOCK.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="classACE__Token__Proxy.html">ACE_Token_Proxy</a> *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Local__WLock.html#a4">clone</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return deep copy.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classACE__Tokens.html">ACE_Tokens</a> *&nbsp;</td><td valign=bottom><a class="el" href="classACE__Local__WLock.html#b0">create_token</a> (const <a class="el" href="ace__wchar_8h.html#a9">ACE_TCHAR</a> *name)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return a new <a class="el" href="classACE__Local__Mutex.html">ACE_Local_Mutex</a>.</em> <a href="#b0">More...</a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class that acquires, renews, and releases a writer lock that is local to the process.
<p>

<p>
 This class implements the writer interface to canonical readers/writer locks. Multiple readers can hold the lock simultaneously when no writers have the lock. Alternatively, when a writer holds the lock, no other participants (readers or writers) may hold the lock. This class is a more general-purpose synchronization mechanism than SunOS 5.x WLock. For example, it implements "recursive WLock" semantics, where a thread that owns the token can reacquire it without deadlocking. In addition, threads that are blocked awaiting the token are serviced in strict FIFO order as other threads release the token (SunOS 5.x WLocks don't strictly enforce an acquisition order). The interfaces for acquire, tryacquire, renew, release, etc. are defined in <a class="el" href="classACE__Token__Proxy.html">ACE_Token_Proxy</a>. The semantics for ACE_Local_WLock are that of a readers/writers lock. Acquire for this class implies a writer acquisition. That is, only one client may hold the lock for writing. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="ACE_Local_WLock::ACE_Local_WLock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Local_WLock::ACE_Local_WLock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>token_name</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ignore_deadlock</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>debug</em> = 0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. <dl compact><dt><b>
Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>token_name</em>&nbsp;</td><td>
Uniquely id's the token. </td></tr>
<tr><td valign=top><em>ignore_deadlock</em>&nbsp;</td><td>
Will allow deadlock to occur (useful for testing). </td></tr>
<tr><td valign=top><em>debug</em>&nbsp;</td><td>
Prints a bunch of messages. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a1" doxytag="ACE_Local_WLock::~ACE_Local_WLock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ACE_Local_WLock::~ACE_Local_WLock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a4" doxytag="ACE_Local_WLock::clone"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="classACE__Token__Proxy.html">ACE_Token_Proxy</a>* ACE_Local_WLock::clone </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return deep copy.
<p>

<p>
Reimplemented from <a class="el" href="classACE__Token__Proxy.html#a18">ACE_Token_Proxy</a>.    </td>
  </tr>
</table>
<a name="b0" doxytag="ACE_Local_WLock::create_token"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classACE__Tokens.html">ACE_Tokens</a>* ACE_Local_WLock::create_token </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="ace__wchar_8h.html#a9">ACE_TCHAR</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>name</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return a new <a class="el" href="classACE__Local__Mutex.html">ACE_Local_Mutex</a>.
<p>

<p>
Reimplemented from <a class="el" href="classACE__Token__Proxy.html#b2">ACE_Token_Proxy</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="ACE_Local_WLock::dump"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ACE_Local_WLock::dump </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Dump the state of the class.
<p>

<p>
Reimplemented from <a class="el" href="classACE__Token__Proxy.html#a19">ACE_Token_Proxy</a>.    </td>
  </tr>
</table>
<a name="a3" doxytag="ACE_Local_WLock::type"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual int ACE_Local_WLock::type </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns ACE_RW_Token::WLOCK.
<p>

<p>
Reimplemented from <a class="el" href="classACE__Token__Proxy.html#a20">ACE_Token_Proxy</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Local__Tokens_8h.html">Local_Tokens.h</a></ul>
<hr><address><small>Generated on Wed Jan 15 19:09:48 2003 for ACE by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
