<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TAO_Cleanup_Func_Registry class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>TAO_Cleanup_Func_Registry  Class Reference</h1>This is a helper class that is designed to perform cleanup on thread-specific objects registered in the ORB Core TSS resources by invoking the corresponding cleanup function on each object. Hence, there is a tight coupling between this class and the <a class="el" href="namespaceTAO.html">TAO</a> ORB Core. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;Cleanup_Func_Registry.h&gt;</code>
<p>
Collaboration diagram for TAO_Cleanup_Func_Registry:<p><center><img src="classTAO__Cleanup__Func__Registry__coll__graph.gif" border="0" usemap="#TAO__Cleanup__Func__Registry__coll__map" alt="Collaboration graph"></center>
<map name="TAO__Cleanup__Func__Registry__coll__map">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Base.html" shape="rect" coords="187,210,465,228" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Iterator.html" shape="rect" coords="14,300,302,319" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Allocator.html" shape="rect" coords="465,15,561,34" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Base.html" shape="rect" coords="253,119,399,138" alt="">
<area doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Iterator.html" shape="rect" coords="59,15,217,34" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classTAO__Cleanup__Func__Registry-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#a0">TAO_Cleanup_Func_Registry</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Constructor.</em> <a href="#a0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#a1">~TAO_Cleanup_Func_Registry</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Destructor.</em> <a href="#a1">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>size_t&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#a2">size</a> (void) const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return the number of registered cleanup functions.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#b0">register_cleanup_function</a> (<a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8h.html#a374">ACE_CLEANUP_FUNC</a> func, size_t &amp;slot_id)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Register a cleanup function. The number of slot the cleanup function is placed is in will match the one reserved for the corresponding thread specific object in the ORB Core TSS resources. The slot_id is returned via the second reference argument. This method returns 0 on failure, and -1 on failure.</em> <a href="#b0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#b1">cleanup</a> (<a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Base.html">ACE_Array_Base</a>&lt; void *&gt; &amp;ts_objects)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Invoke the corresponding cleanup function on each thread-specific object.</em> <a href="#b1">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Private Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#c0">TAO_Cleanup_Func_Registry</a> (const TAO_Cleanup_Func_Registry &amp;)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Prevent copying through the copy constructor and the assignment operator.</em> <a href="#c0">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#c1">operator=</a> (const TAO_Cleanup_Func_Registry &amp;)</td></tr>
<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Base.html">ACE_Array_Base</a>&lt; <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8h.html#a374">ACE_CLEANUP_FUNC</a> &gt;&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#o0">cleanup_funcs_</a></td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Array of registered cleanup functions. The number of registered cleanup functions should be the same as the number of registered thread-specific objects in the ORB Core TSS resources.</em> <a href="#o0">More...</a><em></em></font><br><br></td></tr>
<tr><td colspan=2><br><h2>Friends</h2></td></tr>
<tr><td nowrap align=right valign=top>class&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#l0">TAO_ORBInitInfo</a></td></tr>
<tr><td nowrap align=right valign=top>class&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#l1">TAO_ORB_Core_TSS_Resources</a></td></tr>
<tr><td nowrap align=right valign=top>class&nbsp;</td><td valign=bottom><a class="el" href="classTAO__Cleanup__Func__Registry.html#l2">TAO_ORB_Core</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This is a helper class that is designed to perform cleanup on thread-specific objects registered in the ORB Core TSS resources by invoking the corresponding cleanup function on each object. Hence, there is a tight coupling between this class and the <a class="el" href="namespaceTAO.html">TAO</a> ORB Core.
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="TAO_Cleanup_Func_Registry::TAO_Cleanup_Func_Registry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Cleanup_Func_Registry::TAO_Cleanup_Func_Registry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor.
<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="TAO_Cleanup_Func_Registry::~TAO_Cleanup_Func_Registry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Cleanup_Func_Registry::~TAO_Cleanup_Func_Registry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor.
<p>
    </td>
  </tr>
</table>
<a name="c0" doxytag="TAO_Cleanup_Func_Registry::TAO_Cleanup_Func_Registry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TAO_Cleanup_Func_Registry::TAO_Cleanup_Func_Registry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TAO_Cleanup_Func_Registry &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Prevent copying through the copy constructor and the assignment operator.
<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="b1" doxytag="TAO_Cleanup_Func_Registry::cleanup"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TAO_Cleanup_Func_Registry::cleanup </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Base.html">ACE_Array_Base</a>&lt; void *&gt; &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>ts_objects</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Invoke the corresponding cleanup function on each thread-specific object.
<p>
    </td>
  </tr>
</table>
<a name="c1" doxytag="TAO_Cleanup_Func_Registry::operator="></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void TAO_Cleanup_Func_Registry::operator= </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const TAO_Cleanup_Func_Registry &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="b0" doxytag="TAO_Cleanup_Func_Registry::register_cleanup_function"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int TAO_Cleanup_Func_Registry::register_cleanup_function </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8h.html#a374">ACE_CLEANUP_FUNC</a>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>func</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>size_t &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>slot_id</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Register a cleanup function. The number of slot the cleanup function is placed is in will match the one reserved for the corresponding thread specific object in the ORB Core TSS resources. The slot_id is returned via the second reference argument. This method returns 0 on failure, and -1 on failure.
<p>
    </td>
  </tr>
</table>
<a name="a2" doxytag="TAO_Cleanup_Func_Registry::size"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8i.html#a0">ACE_INLINE</a> size_t TAO_Cleanup_Func_Registry::size </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the number of registered cleanup functions.
<p>
    </td>
  </tr>
</table>
<hr><h2>Friends And Related Function Documentation</h2>
<a name="l2" doxytag="TAO_Cleanup_Func_Registry::TAO_ORB_Core"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> friend class TAO_ORB_Core<code> [friend]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="l1" doxytag="TAO_Cleanup_Func_Registry::TAO_ORB_Core_TSS_Resources"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> friend class TAO_ORB_Core_TSS_Resources<code> [friend]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a name="l0" doxytag="TAO_Cleanup_Func_Registry::TAO_ORBInitInfo"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> friend class TAO_ORBInitInfo<code> [friend]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="o0" doxytag="TAO_Cleanup_Func_Registry::cleanup_funcs_"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/classACE__Array__Base.html">ACE_Array_Base</a>&lt;<a class="elRef" doxygen="ACE.tag:../ace/" href="../ace/OS_8h.html#a374">ACE_CLEANUP_FUNC</a>&gt; TAO_Cleanup_Func_Registry::cleanup_funcs_<code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Array of registered cleanup functions. The number of registered cleanup functions should be the same as the number of registered thread-specific objects in the ORB Core TSS resources.
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Cleanup__Func__Registry_8h.html">Cleanup_Func_Registry.h</a><li><a class="el" href="Cleanup__Func__Registry_8cpp.html">Cleanup_Func_Registry.cpp</a><li><a class="el" href="Cleanup__Func__Registry_8inl.html">Cleanup_Func_Registry.inl</a></ul>
<hr><address><small>Generated on Wed Jan 15 20:28:32 2003 for TAO by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
