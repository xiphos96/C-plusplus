<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Running as an NT service</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.13.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><a name="ntservice"><h2>Running as an NT service</h2></a>

<p>
The ImplRepo_Service.exe can now also function as a Windows NT Service. The -c option can be used to install and remove the service (this requires Administrator access on the machine).
<p>
<dl compact><dt><b>
Note: </b><dd>
When using the ImplRepo_Service as a service, it must have all of its required <a class="elRef" doxygen="ACE.tag:../../ace/" href="../../ace/classACE.html">ACE</a>/<a class="elRef" doxygen="TAO.tag:../" href="../namespaceTAO.html">TAO</a> DLL's in the path or in the same directory. For example, the run_test.pl copies ImplRepo_Service.exe to the ACE_wrappers\bin directory before using "-c install".</dl>The service can be then started either from the Windows NT "Services" Admin Tool or via the "net" program on the command line:
<p>
<code>net start "<a class="elRef" doxygen="TAO.tag:../" href="../namespaceTAO.html">TAO</a> Implementation Repository"</code>
<p>
The Implementation Repository supports start and stop but not pause.
<p>
<a name="serviceopts"><h3>Service Options</h3></a>

<p>
When installing the Implementation Repository as a service, there isn't an opportunity to specify any command line options. So if you want to specify that the ImplRepo_Service should output to a file or set the debug level to 2, for example, you will have to manually edit the registry to do this.
<p>
The magic key for extra options to pass to the Implementation Repository is <b>SYSTEM\CurrentControlSet\Services\TAOImplRepo\Parameters\ORBOptions</b> under <b>HKEY_LOCAL_MACHINE</b>. This value should be a MULTI_SZ value with each parameter in separate strings. Since it is a MULTI_SZ, you will need to use regedt32.exe to add this, since regedit.exe doesn't support MULTI_SZ types yet.
<p>
So let's say you want to up the debug level to 2 and record the output to the C:\ImplRepo.log file. First you will have to install the ImplRepo_Service as a service to create the TAOImplRepo subkey under Services. Now fire up regedt32 and browse to the TAOImplRepo key. The Parameters key under TAOImplRepo will now need to be created. And now you can create the "ORBOptions" value in Parameters. Now when the multi-string editor pops up, add the following on separate lines:
<p>
<ul>
<li>-ORBLogFile<li>C:\ImplRepo.log<li>-ORBDebugLevel<li>2</ul>
And when the ImplRepo_Service is run as a service (and only when it runs as a service) it will use these options.
<p>
<hr><address><small>Generated on Wed Jan 15 23:49:33 2003 for TAO_Implementation_Repository by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.13.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
